<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conference Parties</title>
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#4A154B">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Slack CSS Variables */
            --slack-font-family: "Lato", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, sans-serif;
            --slack-font-size-base: 15px;
            
            /* Slack Colors */
            --slack-color-primary: #4A154B;
            --slack-color-primary-hover: #3D0E3E;
            --slack-color-border: #DDDDDD;
            --slack-color-hover: #F8F8F8;
            --slack-color-text: #1D1C1D;
            --slack-color-text-secondary: #616061;
            --slack-color-bg: #FFFFFF;
            --slack-color-bg-secondary: #F8F8F8;
            
            /* Slack Spacing */
            --slack-spacing-sm: 8px;
            --slack-spacing-md: 12px;
            --slack-spacing-lg: 16px;
            
            /* Slack Components */
            --slack-header-height: 50px;
            --slack-sidebar-width: 260px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--slack-font-family);
            font-size: var(--slack-font-size-base);
            background-color: var(--slack-color-bg);
            color: var(--slack-color-text);
            height: 100vh;
            overflow: hidden;
        }

        /* Slack-style Layout */
        .app-container {
            display: flex;
            height: 100vh;
        }

        /* Left Sidebar (Slack-style) */
        .sidebar {
            width: var(--slack-sidebar-width);
            background-color: var(--slack-color-primary);
            color: white;
            display: flex;
            flex-direction: column;
            border-right: 1px solid var(--slack-color-border);
        }

        .sidebar-header {
            height: var(--slack-header-height);
            padding: var(--slack-spacing-md);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .sidebar-title {
            font-weight: 700;
            font-size: 18px;
        }

        .sidebar-content {
            flex: 1;
            overflow-y: auto;
            padding: var(--slack-spacing-md) 0;
        }

        .nav-section {
            margin-bottom: var(--slack-spacing-lg);
        }

        .nav-section-title {
            padding: 4px var(--slack-spacing-md);
            font-size: 13px;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 4px var(--slack-spacing-md);
            color: rgba(255, 255, 255, 0.9);
            cursor: pointer;
            transition: background-color 0.2s;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            font-family: inherit;
            font-size: inherit;
        }

        .nav-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .nav-item.active {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .nav-icon {
            width: 20px;
            height: 20px;
            margin-right: var(--slack-spacing-sm);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Calendar Section */
        .calendar-section {
            margin-top: var(--slack-spacing-md);
        }

        .calendar-item {
            padding: 2px var(--slack-spacing-md);
            font-size: 13px;
            color: rgba(255, 255, 255, 0.8);
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .calendar-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .calendar-time {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.6);
            margin-right: var(--slack-spacing-sm);
            min-width: 40px;
        }

        .party-indicator {
            width: 8px;
            height: 8px;
            background-color: #36C5F0;
            border-radius: 50%;
            margin-left: auto;
        }

        /* Main Content Area */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: var(--slack-color-bg);
        }

        .main-header {
            height: var(--slack-header-height);
            padding: 0 var(--slack-spacing-lg);
            border-bottom: 1px solid var(--slack-color-border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: var(--slack-color-bg);
        }

        .main-title {
            font-weight: 700;
            font-size: 18px;
        }

        .view-controls {
            display: flex;
            gap: var(--slack-spacing-sm);
        }

        .view-btn {
            padding: 4px var(--slack-spacing-sm);
            border: 1px solid var(--slack-color-border);
            background-color: var(--slack-color-bg);
            border-radius: 4px;
            cursor: pointer;
            font-family: inherit;
            font-size: 13px;
            transition: all 0.2s;
        }

        .view-btn.active {
            background-color: var(--slack-color-primary);
            color: white;
            border-color: var(--slack-color-primary);
        }

        .view-btn:hover:not(.active) {
            background-color: var(--slack-color-hover);
        }

        .main-body {
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        /* Swipe Interface */
        .swipe-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--slack-color-bg-secondary);
            flex-direction: column;
            gap: var(--slack-spacing-lg);
        }

        .swipe-cards {
            position: relative;
            width: 320px;
            height: 400px;
        }

        .party-card {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: var(--slack-color-bg);
            border: 1px solid var(--slack-color-border);
            border-radius: 4px;
            padding: var(--slack-spacing-lg);
            cursor: grab;
            transition: transform 0.3s ease-out;
            display: flex;
            flex-direction: column;
        }

        .party-card:active {
            cursor: grabbing;
        }

        .party-card.dragging {
            transition: none;
            z-index: 10;
        }

        .party-card.swipe-right {
            transform: translateX(100%) rotate(15deg);
            opacity: 0;
        }

        .party-card.swipe-left {
            transform: translateX(-100%) rotate(-15deg);
            opacity: 0;
        }

        .card-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 4px;
            color: var(--slack-color-text);
        }

        .card-host {
            color: var(--slack-color-text-secondary);
            font-size: 13px;
            margin-bottom: var(--slack-spacing-md);
        }

        .card-details {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: var(--slack-spacing-sm);
        }

        .card-detail {
            display: flex;
            align-items: center;
            gap: var(--slack-spacing-sm);
            font-size: 14px;
            color: var(--slack-color-text-secondary);
        }

        .card-description {
            margin-top: var(--slack-spacing-md);
            line-height: 1.4;
            flex: 1;
        }

        .swipe-instructions {
            text-align: center;
            color: var(--slack-color-text-secondary);
        }

        .swipe-actions {
            display: flex;
            gap: var(--slack-spacing-lg);
            margin-top: var(--slack-spacing-sm);
        }

        .swipe-action {
            display: flex;
            align-items: center;
            gap: var(--slack-spacing-xs);
            font-size: 13px;
        }

        .swipe-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
        }

        .swipe-pass .swipe-icon {
            background-color: #E01E5A;
            color: white;
        }

        .swipe-like .swipe-icon {
            background-color: #36C5F0;
            color: white;
        }

        /* Card View */
        .card-view {
            padding: var(--slack-spacing-lg);
            overflow-y: auto;
        }

        .party-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--slack-spacing-lg);
        }

        .party-list-card {
            background-color: var(--slack-color-bg);
            border: 1px solid var(--slack-color-border);
            border-radius: 4px;
            padding: var(--slack-spacing-md);
            cursor: pointer;
            transition: all 0.2s;
        }

        .party-list-card:hover {
            background-color: var(--slack-color-hover);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        /* Map View */
        .map-view {
            position: relative;
            background-color: #E5E5E5;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--slack-color-text-secondary);
        }

        /* Calendar View */
        .calendar-view {
            padding: var(--slack-spacing-lg);
            overflow-y: auto;
        }

        .calendar-day {
            margin-bottom: var(--slack-spacing-lg);
        }

        .calendar-day-title {
            font-weight: 700;
            font-size: 16px;
            margin-bottom: var(--slack-spacing-sm);
            padding-bottom: 4px;
            border-bottom: 1px solid var(--slack-color-border);
        }

        .calendar-event {
            display: flex;
            align-items: center;
            padding: var(--slack-spacing-sm);
            margin-bottom: 2px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .calendar-event:hover {
            background-color: var(--slack-color-hover);
        }

        .calendar-event.party {
            border-left: 3px solid #36C5F0;
        }

        .calendar-event.appointment {
            border-left: 3px solid var(--slack-color-text-secondary);
        }

        .event-time {
            font-size: 13px;
            color: var(--slack-color-text-secondary);
            width: 60px;
            margin-right: var(--slack-spacing-sm);
        }

        .event-title {
            flex: 1;
            font-size: 14px;
        }

        /* Hidden utility */
        .hidden {
            display: none !important;
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .sidebar {
                width: 200px;
            }
            
            .swipe-cards {
                width: 280px;
                height: 360px;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Left Sidebar (Slack-style) -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">Gamescom Parties</div>
            </div>
            
            <div class="sidebar-content">
                <!-- Navigation Section -->
                <div class="nav-section">
                    <div class="nav-section-title">Discover</div>
                    <button class="nav-item active" data-view="swipe">
                        <div class="nav-icon">üéØ</div>
                        New Parties
                    </button>
                    <button class="nav-item" data-view="parties">
                        <div class="nav-icon">üéâ</div>
                        All Parties
                    </button>
                    <button class="nav-item" data-view="interested">
                        <div class="nav-icon">‚ù§Ô∏è</div>
                        Interested
                    </button>
                </div>

                <!-- Calendar Section -->
                <div class="nav-section calendar-section">
                    <div class="nav-section-title">Today's Schedule</div>
                    <button class="nav-item" data-view="calendar">
                        <div class="nav-icon">üìÖ</div>
                        Full Calendar
                    </button>
                    
                    <!-- Today's Events -->
                    <div class="calendar-item">
                        <div class="calendar-time">9:00</div>
                        <div>XRAI Hackathon</div>
                        <div class="party-indicator"></div>
                    </div>
                    <div class="calendar-item">
                        <div class="calendar-time">13:00</div>
                        <div>devcom Conference</div>
                    </div>
                    <div class="calendar-item">
                        <div class="calendar-time">17:00</div>
                        <div>Indie Stammtisch</div>
                        <div class="party-indicator"></div>
                    </div>
                    <div class="calendar-item">
                        <div class="calendar-time">19:30</div>
                        <div>Sunset Mixer</div>
                        <div class="party-indicator"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <div class="main-header">
                <div id="mainTitle" class="main-title">New Parties</div>
                <div id="viewControls" class="view-controls">
                    <button class="view-btn active" data-mode="card">Cards</button>
                    <button class="view-btn" data-mode="map">Map</button>
                </div>
            </div>
            
            <div class="main-body">
                <!-- Swipe Interface -->
                <div id="swipeView" class="swipe-container">
                    <div class="swipe-cards" id="swipeCards">
                        <!-- Cards will be inserted here -->
                    </div>
                    <div class="swipe-instructions">
                        <div>Swipe to discover parties</div>
                        <div class="swipe-actions">
                            <div class="swipe-action swipe-pass">
                                <div class="swipe-icon">‚úï</div>
                                <span>Pass</span>
                            </div>
                            <div class="swipe-action swipe-like">
                                <div class="swipe-icon">‚ô•</div>
                                <span>Interested</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card View -->
                <div id="cardView" class="card-view hidden">
                    <div class="party-list" id="partyList">
                        <!-- Party cards will be inserted here -->
                    </div>
                </div>

                <!-- Map View -->
                <div id="mapView" class="map-view hidden">
                    <div>üó∫Ô∏è Map view coming soon...</div>
                </div>

                <!-- Calendar View -->
                <div id="calendarView" class="calendar-view hidden">
                    <div class="calendar-day">
                        <div class="calendar-day-title">Sunday, Aug 17 - Gamescom Opening Day</div>
                        <div class="calendar-event party">
                            <div class="event-time">9:00 AM</div>
                            <div class="event-title">Global XRAI Hack at Cologne, Gamescom</div>
                        </div>
                        <div class="calendar-event appointment">
                            <div class="event-time">1:00 PM</div>
                            <div class="event-title">devcom Developer Conference</div>
                        </div>
                        <div class="calendar-event party">
                            <div class="event-time">5:00 PM</div>
                            <div class="event-title">Indie Developer Stammtisch</div>
                        </div>
                    </div>
                    
                    <div class="calendar-day">
                        <div class="calendar-day-title">Monday, Aug 18 - Main Conference Day</div>
                        <div class="calendar-event party">
                            <div class="event-time">9:00 AM</div>
                            <div class="event-title">Global XRAI Hack (Day 2)</div>
                        </div>
                        <div class="calendar-event appointment">
                            <div class="event-time">10:00 AM</div>
                            <div class="event-title">MeetToMatch Cologne Edition</div>
                        </div>
                        <div class="calendar-event party">
                            <div class="event-time">5:00 PM</div>
                            <div class="event-title">devcom VIP Mixer</div>
                        </div>
                        <div class="calendar-event party">
                            <div class="event-time">7:30 PM</div>
                            <div class="event-title">devcom Sunset Mixer</div>
                        </div>
                    </div>
                    
                    <div class="calendar-day">
                        <div class="calendar-day-title">Tuesday, Aug 19 - Community Day</div>
                        <div class="calendar-event party">
                            <div class="event-time">5:00 PM</div>
                            <div class="event-title">Women in Games Reception</div>
                        </div>
                        <div class="calendar-event party">
                            <div class="event-time">6:00 PM</div>
                            <div class="event-title">Gamedev.js Jam Mixer</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // App state
        let currentView = 'swipe';
        let currentMode = 'card';
        let currentCardIndex = 0;
        let parties = [];
        let interestedParties = [];

        // Real Gamescom 2025 Events Data
        const gamescomParties = [
            {
                id: 1,
                title: "Global XRAI Hack at Cologne, Gamescom",
                host: "XR Bootcamp, Meta",
                time: "Sun Aug 17 9:00 - 19:00",
                location: "STARTPLATZ, Im Mediapark 5, 50670 K√∂ln, Germany",
                description: "Join the global XR/AI hackathon at Gamescom! Build innovative extended reality and AI experiences with support from Meta and XR Bootcamp experts.",
                category: "Hackathon",
                focus: "XR / AI",
                price: "Free",
                viewed: false
            },
            {
                id: 2,
                title: "Indie Developer Stammtisch",
                host: "INDIE Hub",
                time: "Sun Aug 17 17:00 - 19:00",
                location: "Hostel | the shared apartment, Richard-Wagner-Stra√üe 39, 50674 K√∂ln, Germany",
                description: "Casual indie developer meetup to connect, share experiences, and network with fellow independent game creators in a relaxed atmosphere.",
                category: "Mixer",
                focus: "Indie",
                price: "‚Ç¨5.00",
                viewed: false
            },
            {
                id: 3,
                title: "devcom Developer Conference VIP Mixer",
                host: "devcom",
                time: "Mon Aug 18 17:00 - 19:00",
                location: "Koelnmesse Confex, K√∂ln, Germany",
                description: "Premium networking event for game industry professionals. Connect with leads, publishers, and key decision makers in an exclusive setting.",
                category: "Mixer",
                focus: "All",
                price: "From ‚Ç¨113.16",
                viewed: false
            },
            {
                id: 4,
                title: "MeetToMatch The Cologne Edition 2025",
                host: "Xsolla",
                time: "Mon Aug 18 10:00 - 15:00",
                location: "Koelnmesse, K√∂ln, Germany",
                description: "Strategic business matchmaking event powered by Xsolla. Pre-scheduled meetings with publishers, investors, and industry partners.",
                category: "Meetings",
                focus: "All",
                price: "From ‚Ç¨152.21",
                viewed: false
            },
            {
                id: 5,
                title: "devcom Developer Conference Sunset Mixer",
                host: "devcom",
                time: "Mon Aug 18 19:30 - 23:30",
                location: "Koelnmesse Confex, K√∂ln, Germany",
                description: "Evening networking celebration with drinks, music, and connections. Wind down after intense conference sessions and make lasting industry relationships.",
                category: "Mixer",
                focus: "All",
                price: "From ‚Ç¨113.16",
                viewed: false
            },
            {
                id: 6,
                title: "Gamedev.js Jam Mixer",
                host: "Gamedev.js",
                time: "Tue Aug 19 18:00 - 22:00",
                location: "STARTPLATZ, Im Mediapark 5, 50670 K√∂ln, Germany",
                description: "Web game development community meetup with presentations, demos, and networking for HTML5 and JavaScript game developers.",
                category: "Mixer",
                focus: "Web3",
                price: "Free",
                viewed: false
            },
            {
                id: 7,
                title: "Women in Games Reception",
                host: "Women in Games International",
                time: "Tue Aug 19 17:00 - 20:00",
                location: "Koelnmesse, K√∂ln, Germany",
                description: "Empowering networking event supporting women in the gaming industry. Celebrate achievements, share experiences, and build professional connections.",
                category: "Mixer",
                focus: "DEI",
                price: "Request to Join",
                viewed: false
            },
            {
                id: 8,
                title: "Indie Game Awards After Party",
                host: "IndieGameWebsite",
                time: "Wed Aug 20 20:00 - 02:00",
                location: "Club Bahnhof Ehrenfeld, K√∂ln, Germany",  
                description: "Celebrate indie game excellence! Party with award winners, nominees, and the indie community with music, drinks, and late-night networking.",
                category: "Awards Party",
                focus: "Indie",
                price: "From ‚Ç¨25",
                viewed: false
            }
        ];

        // DOM elements
        const elements = {
            navItems: document.querySelectorAll('.nav-item'),
            viewControls: document.querySelectorAll('.view-btn'),
            mainTitle: document.getElementById('mainTitle'),
            swipeView: document.getElementById('swipeView'),
            cardView: document.getElementById('cardView'),
            mapView: document.getElementById('mapView'),
            calendarView: document.getElementById('calendarView'),
            swipeCards: document.getElementById('swipeCards'),
            partyList: document.getElementById('partyList')
        };

        class ConferenceApp {
            constructor() {
                this.init();
            }

            init() {
                parties = [...gamescomParties];
                this.setupNavigation();
                this.setupViewControls();
                this.renderSwipeCards();
                this.renderPartyList();
            }

            setupNavigation() {
                elements.navItems.forEach(item => {
                    item.addEventListener('click', () => {
                        // Update active nav item
                        elements.navItems.forEach(nav => nav.classList.remove('active'));
                        item.classList.add('active');
                        
                        // Switch view
                        const view = item.dataset.view;
                        this.switchView(view);
                    });
                });
            }

            setupViewControls() {
                elements.viewControls.forEach(btn => {
                    btn.addEventListener('click', () => {
                        elements.viewControls.forEach(ctrl => ctrl.classList.remove('active'));
                        btn.classList.add('active');
                        currentMode = btn.dataset.mode;
                        
                        if (currentView === 'parties') {
                            this.renderPartyList();
                        }
                    });
                });
            }

            switchView(view) {
                currentView = view;
                
                // Hide all views
                elements.swipeView.classList.add('hidden');
                elements.cardView.classList.add('hidden');
                elements.mapView.classList.add('hidden');
                elements.calendarView.classList.add('hidden');
                
                // Update title
                const titles = {
                    swipe: 'New Parties',
                    parties: 'All Parties',
                    interested: 'Interested Parties',
                    calendar: 'Your Calendar'
                };
                elements.mainTitle.textContent = titles[view] || view;
                
                // Show appropriate view
                switch(view) {
                    case 'swipe':
                        elements.swipeView.classList.remove('hidden');
                        if (currentCardIndex >= parties.length) {
                            this.showNoMoreCards();
                        }
                        break;
                    case 'parties':
                    case 'interested':
                        elements.cardView.classList.remove('hidden');
                        this.renderPartyList();
                        break;
                    case 'calendar':
                        elements.calendarView.classList.remove('hidden');
                        break;
                }
            }

            renderSwipeCards() {
                elements.swipeCards.innerHTML = '';
                
                // Show up to 3 cards
                for (let i = currentCardIndex; i < Math.min(currentCardIndex + 3, parties.length); i++) {
                    const party = parties[i];
                    const card = this.createSwipeCard(party, i - currentCardIndex);
                    elements.swipeCards.appendChild(card);
                }
                
                this.setupSwipeHandlers();
            }

            createSwipeCard(party, zIndex) {
                const card = document.createElement('div');
                card.className = 'party-card';
                card.style.zIndex = 10 - zIndex;
                card.dataset.partyId = party.id;
                
                card.innerHTML = `
                    <div class="card-title">${party.title}</div>
                    <div class="card-host">Hosted by ${party.host}</div>
                    <div class="card-details">
                        <div class="card-detail">
                            üïê ${party.time}
                        </div>
                        <div class="card-detail">
                            üìç ${party.location}
                        </div>
                        <div class="card-detail">
                            üéØ ${party.focus} ‚Ä¢ ${party.category}
                        </div>
                        <div class="card-detail">
                            üí∞ ${party.price}
                        </div>
                        <div class="card-description">
                            ${party.description}
                        </div>
                    </div>
                `;
                
                return card;
            }

            setupSwipeHandlers() {
                const cards = elements.swipeCards.querySelectorAll('.party-card');
                
                cards.forEach(card => {
                    let startX = 0;
                    let currentX = 0;
                    let isDragging = false;

                    // Touch events
                    card.addEventListener('touchstart', (e) => {
                        startX = e.touches[0].clientX;
                        isDragging = true;
                        card.classList.add('dragging');
                    });

                    card.addEventListener('touchmove', (e) => {
                        if (!isDragging) return;
                        
                        currentX = e.touches[0].clientX - startX;
                        const rotation = currentX * 0.1;
                        
                        card.style.transform = `translateX(${currentX}px) rotate(${rotation}deg)`;
                        card.style.opacity = Math.max(0.5, 1 - Math.abs(currentX) / 200);
                    });

                    card.addEventListener('touchend', () => {
                        if (!isDragging) return;
                        this.handleSwipeEnd(card, currentX);
                        isDragging = false;
                        currentX = 0;
                    });

                    // Mouse events
                    card.addEventListener('mousedown', (e) => {
                        startX = e.clientX;
                        isDragging = true;
                        card.classList.add('dragging');
                    });

                    card.addEventListener('mousemove', (e) => {
                        if (!isDragging) return;
                        
                        currentX = e.clientX - startX;
                        const rotation = currentX * 0.1;
                        
                        card.style.transform = `translateX(${currentX}px) rotate(${rotation}deg)`;
                        card.style.opacity = Math.max(0.5, 1 - Math.abs(currentX) / 200);
                    });

                    card.addEventListener('mouseup', () => {
                        if (!isDragging) return;
                        this.handleSwipeEnd(card, currentX);
                        isDragging = false;
                        currentX = 0;
                    });
                });
            }

            handleSwipeEnd(card, currentX) {
                card.classList.remove('dragging');
                
                if (Math.abs(currentX) > 80) {
                    this.swipeCard(card, currentX > 0 ? 'right' : 'left');
                } else {
                    // Snap back
                    card.style.transform = '';
                    card.style.opacity = '';
                }
            }

            swipeCard(card, direction) {
                const partyId = parseInt(card.dataset.partyId);
                const party = parties.find(p => p.id === partyId);
                
                if (direction === 'right') {
                    card.classList.add('swipe-right');
                    interestedParties.push(party);
                } else {
                    card.classList.add('swipe-left');
                }
                
                party.viewed = true;
                
                setTimeout(() => {
                    card.remove();
                    currentCardIndex++;
                    
                    if (currentCardIndex < parties.length) {
                        this.renderSwipeCards();
                    } else {
                        this.showNoMoreCards();
                    }
                }, 300);
            }

            showNoMoreCards() {
                elements.swipeCards.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--slack-color-text-secondary);">
                        <div style="font-size: 48px; margin-bottom: 16px;">üéâ</div>
                        <div style="font-size: 18px; font-weight: 700; margin-bottom: 8px;">All caught up!</div>
                        <div>You've seen all the parties. Check back later for new events.</div>
                    </div>
                `;
            }

            renderPartyList() {
                const partiesToShow = currentView === 'interested' ? interestedParties : parties;
                
                elements.partyList.innerHTML = partiesToShow.map(party => `
                    <div class="party-list-card" onclick="app.openPartyDetails(${party.id})">
                        <div class="card-title">${party.title}</div>
                        <div class="card-host">Hosted by ${party.host}</div>
                        <div style="margin: 8px 0;">
                            <div class="card-detail">
                                üïê ${party.time}
                            </div>
                            <div class="card-detail">
                                üìç ${party.location.substring(0, 50)}...
                            </div>
                            <div class="card-detail">
                                üéØ ${party.focus} ‚Ä¢ ${party.category} ‚Ä¢ ${party.price}
                            </div>
                        </div>
                        <div style="font-size: 14px; color: var(--slack-color-text-secondary); line-height: 1.4;">
                            ${party.description.substring(0, 120)}...
                        </div>
                    </div>
                `).join('');
            }

            openPartyDetails(partyId) {
                const party = parties.find(p => p.id === partyId);
                if (!party.viewed) {
                    // Switch to swipe view for unviewed parties
                    currentCardIndex = parties.findIndex(p => p.id === partyId);
                    this.switchView('swipe');
                    this.renderSwipeCards();
                    
                    // Update nav
                    elements.navItems.forEach(nav => nav.classList.remove('active'));
                    document.querySelector('[data-view="swipe"]').classList.add('active');
                }
            }

            formatDate(dateString) {
                const date = new Date(dateString);
                return date.toLocaleDateString('en-US', {
                    weekday: 'short',
                    month: 'short',
                    day: 'numeric',
                    hour: 'numeric',
                    minute: '2-digit'
                });
            }
        }

        // Initialize app
        const app = new ConferenceApp();
    </script>
</body>
</html>