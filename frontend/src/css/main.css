/**
 * PROFESSIONAL INTELLIGENCE PLATFORM - MAIN CSS
 * Perfect design system implementation with production-ready architecture
 */

/* ===== DESIGN TOKENS ===== */
:root {
  /* Base */
  --bg-primary: #0f0f12;
  --bg-secondary: #15151a;
  --surface: #1a1a1f;
  --border: #2a2a35;

  /* Text */
  --text-primary: #ffffff;
  --text-secondary: #a5a7ad;
  --text-muted: #6b6b75;

  /* Accent */
  --accent-primary: #6b7bff;
  --accent-success: #22c55e;
  --accent-warning: #fde047;
  --accent-error: #ef4444;

  /* Personas */
  --dev-color: #7dd3fc;
  --pub-color: #fca5a5;
  --inv-color: #fde047;
  --sp-color: #86efac;

  /* Radii */
  --r-sm: 8px;
  --r-md: var(--s-3);
  --r-lg: var(--s-4);
  --r-xl: var(--s-5);

  /* Motion */
  --t-instant: 100ms;
  --t-fast: 150ms;
  --t-normal: 200ms;
  --t-slow: 300ms;
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);

  /* Z-Index */
  --z-nav: 50;
  --z-sheet: 60;
  --z-modal: 70;
  --z-toast: 80;
}

/* Accessibility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0,0,0,0);
  border: 0;
}

:focus {
  outline: 3px solid var(--accent-primary);
  outline-offset: 2px;
}

/* Empty States & Error States */
.empty-state {
  text-align: center;
  padding: 40px 20px;
  color: var(--text-secondary);
  font-size: 14px;
}

.empty-icon {
  width: 48px;
  height: 48px;
  margin-bottom: var(--s-4);
  opacity: 0.8;
  filter: grayscale(20%);
}

.empty-icon-emoji {
  font-size: 48px;
  margin-bottom: var(--s-4);
  opacity: 0.7;
  display: block;
}

.empty-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 8px;
}

.empty-message {
  margin: 0 0 20px;
  line-height: 1.4;
  max-width: 320px;
  margin-left: auto;
  margin-right: auto;
}

.empty-action {
  margin-top: var(--s-4);
}

.loading-state {
  text-align: center;
  padding: 40px 20px;
  color: var(--text-secondary);
}

.loading-spinner {
  width: 32px;
  height: 32px;
  border: 3px solid var(--border);
  border-top: 3px solid var(--accent-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto 16px;
}

.loading-message {
  margin: 0;
  font-size: 14px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.error-state {
  text-align: center;
  padding: 40px 20px;
  color: var(--text-secondary);
}

.error-icon {
  font-size: 48px;
  margin-bottom: var(--s-4);
  opacity: 0.8;
  display: block;
}

.error-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--accent-error);
  margin: 0 0 8px;
}

.error-message {
  margin: 0 0 20px;
  line-height: 1.4;
  max-width: 320px;
  margin-left: auto;
  margin-right: auto;
}

.error-retry {
  margin-top: var(--s-4);
}

/* Container state modifiers */
.has-empty-state,
.has-loading-state,
.has-error-state {
  min-height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Sync status indicators */
.sync-status {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 13px;
  font-weight: 500;
}

.sync-status.syncing {
  background: rgba(59, 130, 246, 0.12);
  color: var(--accent-primary);
}

.sync-status.success {
  background: rgba(34, 197, 94, 0.12);
  color: var(--accent-success);
}

.sync-status.error {
  background: rgba(239, 68, 68, 0.12);
  color: var(--accent-error);
}

.sync-spinner {
  width: var(--s-3);
  height: var(--s-3);
  border: 2px solid currentColor;
  border-top: 2px solid transparent;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* Enhanced invite item styles */
.invite-item {
  display: flex;
  align-items: center;
  gap: var(--s-3);
  padding: var(--s-3);
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  margin-bottom: 8px;
  transition: all 0.2s ease;
}

.invite-item:hover,
.invite-item:focus {
  background: rgba(255, 255, 255, 0.04);
  border-color: rgba(255, 255, 255, 0.12);
}

.invite-code {
  font-family: monospace;
  font-size: 14px;
  font-weight: 600;
  color: var(--accent-primary);
  background: rgba(107, 123, 255, 0.12);
  padding: 4px 8px;
  border-radius: 4px;
  flex-shrink: 0;
}

.invite-details {
  flex: 1;
  min-width: 0;
}

.invite-email {
  font-size: 13px;
  color: var(--text-primary);
  margin-bottom: 2px;
}

.invite-status {
  margin-bottom: 2px;
}

.invite-date {
  font-size: 11px;
  color: var(--text-muted);
}

.invite-actions {
  display: flex;
  gap: 4px;
}

.btn-icon {
  background: none;
  border: none;
  padding: 6px;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
  transition: background 0.2s ease;
}

.btn-icon:hover {
  background: rgba(255, 255, 255, 0.08);
}

.status-badge {
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 4px;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.status-badge.accepted {
  background: rgba(34, 197, 94, 0.12);
  color: var(--accent-success);
}

.status-badge.pending {
  background: rgba(245, 158, 11, 0.12);
  color: var(--accent-warning);
}

.status-badge.expired {
  background: rgba(107, 114, 128, 0.12);
  color: var(--text-muted);
}

/* Shell */
.app{display:flex;min-height:100vh;background:var(--bg-primary);color:var(--text-primary)}
.sidenav{width:280px;flex:0 0 280px;display:flex;flex-direction:column;height:100vh;position:sticky;top:0;z-index:30;background:var(--bg-secondary);border-right:1px solid var(--border);transform:translateX(0);transition:transform 220ms var(--ease-out)}
.side-head{display:flex;align-items:center;gap:10px;padding:14px 12px}.brand{width:24px;height:24px}.workspace{font-weight:700}
.side-nav{padding:8px;display:grid;gap:4px}
.nav-item{width:100%;text-align:left;padding:10px 12px;border-radius: var(--r-md);background:transparent;border:1px solid transparent;color:var(--text-primary);transition:background 150ms var(--ease-out),border-color 150ms var(--ease-out)}
.nav-item:hover{background:rgba(255,255,255,.06);border-color:var(--border)}
.nav-item.active{background:rgba(107,123,255,.12);border-color:rgba(107,123,255,.35)}
.invite-badge{float:right;padding:2px 8px;border-radius:999px;font-size:12px;background:rgba(255,215,0,.18);border:1px solid rgba(255,215,0,.45);color:#ffd700;backdrop-filter:blur(6px)}
.side-footer{margin-top:auto;padding:8px;display:flex;gap:8px}.pill{padding:8px 10px;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid var(--border);color:var(--text-secondary)}
#main{flex:1;min-width:0}.topbar{height:56px;display:flex;align-items:center;gap:12px;padding:0 12px;border-bottom:1px solid var(--border);background:rgba(0,0,0,.08);position:sticky;top:0;z-index:20;backdrop-filter:blur(8px)}
.icon-btn{background:transparent;border:none;color:var(--text-primary);font-size:18px}
@media (max-width:1024px){.sidenav{position:fixed;left:0;top:0;bottom:0;width:88vw;max-width:360px;transform:translateX(-100%);box-shadow:0 12px 36px rgba(0,0,0,.5)}.sidenav.open{transform:translateX(0)}.overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(2px);z-index:25}}

/* Screen */
.screen{padding:16px 16px 24px}
.h1{font-size:22px;font-weight:800}
.muted{color:var(--text-secondary)}
.eyebrow{color:var(--text-secondary);font-size:12px;text-transform:uppercase;letter-spacing:.08em;margin:12px 0 6px}

/* Event cards (FOMO) */
.cards-flow{display:grid;gap:12px;margin-top:14px}
.event-card{background:var(--surface);border:1px solid var(--border);border-radius: var(--r-xl);padding:14px;animation:pop .22s var(--ease-out)}
.event-head{display:flex;justify-content:space-between;align-items:start;margin-bottom:6px}
.title{font-weight:700}.time{color:var(--accent-primary);font-weight:600}
.row{display:flex;justify-content:space-between;align-items:center;margin:6px 0}
.venue{color:var(--text-secondary)}
.persona-pills .pill{border-radius: var(--r-md);padding:4px 8px;font-size:12px;color:#0f0f12}
.pill-dev{background:var(--dev-color)}.pill-pub{background:var(--pub-color)}.pill-inv{background:var(--inv-color)}.pill-sp{background:var(--sp-color)}
.cta-row{display:flex;gap:8px;margin-top:10px}

/* Streamlined Jobs/Ive-Style Install Card */
.install-card {
  position: fixed;
  bottom: var(--s-5);
  left: 50%;
  transform: translateX(-50%);
  background: #1A1D21;
  border: 1px solid #333;
  padding: var(--s-4);
  border-radius: var(--r-md);
  box-shadow: 0 2px 12px rgba(0,0,0,0.4);
  display: none;
  width: 90%;
  max-width: 320px;
  z-index: 9999;
  transition: all 0.3s var(--ease-out);
}

.install-card.visible {
  display: block;
  animation: slideUp 0.3s var(--ease-out);
}

.install-content {
  text-align: center;
  position: relative;
}

.install-close {
  position: absolute;
  top: -8px;
  right: -8px;
  background: rgba(255, 255, 255, 0.1);
  border: none;
  color: #bbb;
  font-size: 18px;
  width: var(--s-6);
  height: var(--s-6);
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.install-close:hover {
  background: rgba(255, 255, 255, 0.2);
  color: #fff;
}

.install-icon {
  width: 48px;
  height: 48px;
  margin-bottom: 8px;
  border-radius: var(--r-md);
}

.install-card h3 {
  color: #fff;
  margin-bottom: 4px;
  font-size: var(--s-4);
  font-weight: 600;
}

.install-card p {
  color: #bbb;
  font-size: 14px;
  margin-bottom: var(--s-4);
  line-height: 1.4;
}

.install-action {
  width: 100%;
  padding: 10px;
  font-size: 14px;
  font-weight: 500;
}

@keyframes slideUp {
  from {
    transform: translateX(-50%) translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
  }
}

/* Mobile responsiveness */
@media (max-width: 480px) {
  .install-card {
    bottom: var(--s-4);
    width: calc(100% - 32px);
    max-width: none;
  }
}

/* Install Success Card */
.install-success-card {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.8);
  width: 400px;
  max-width: calc(100vw - 40px);
  background: var(--bg-secondary);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--s-4);
  box-shadow: 0 16px 64px rgba(0, 0, 0, 0.5);
  z-index: 1001;
  opacity: 0;
  transition: all 0.3s var(--ease-out);
  backdrop-filter: blur(12px);
}

.install-success-card.show {
  transform: translate(-50%, -50%) scale(1);
  opacity: 1;
}

.success-body {
  padding: var(--s-6);
}

.success-header {
  display: flex;
  align-items: flex-start;
  gap: var(--s-4);
  margin-bottom: var(--s-5);
}

.success-icon {
  font-size: 48px;
  line-height: 1;
  flex-shrink: 0;
}

.success-text {
  flex: 1;
}

.success-title {
  font-size: var(--s-5);
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 4px;
}

.success-subtitle {
  font-size: 14px;
  color: var(--text-secondary);
  margin: 0;
  line-height: 1.4;
}

.success-features {
  margin-bottom: var(--s-6);
}

.success-feature {
  display: flex;
  align-items: center;
  gap: var(--s-3);
  padding: 8px 0;
  font-size: 14px;
  color: var(--text-secondary);
}

.success-feature .feature-icon {
  font-size: 18px;
  width: var(--s-6);
  flex-shrink: 0;
  text-align: center;
}

.success-feature .feature-text {
  line-height: 1.3;
}

.success-actions {
  display: flex;
  justify-content: center;
}

.success-continue {
  padding: var(--s-3) 24px;
  font-weight: 600;
  font-size: 14px;
  min-width: 140px;
}

@media (max-width: 480px) {
  .install-success-card {
    width: calc(100vw - 32px);
    border-radius: var(--s-3);
  }
  
  .success-body {
    padding: var(--s-5);
  }
  
  .success-header {
    align-items: center;
    text-align: center;
    flex-direction: column;
    gap: var(--s-3);
  }
  
  .success-features {
    text-align: left;
  }
}

/* Account sheet */
.sheet{position:fixed;left:0;right:0;bottom:0;background:var(--bg-secondary);border-top:1px solid var(--border);border-radius: var(--r-xl) 16px 0 0;padding:12px 16px;transform:translateY(16px);opacity:0;pointer-events:none}
.sheet.show{transform:translateY(0);opacity:1;pointer-events:auto;transition:transform .22s var(--ease-out),opacity .22s var(--ease-out)}
.sheet-head .drag{width:40px;height:4px;background:rgba(255,255,255,.18);border-radius:2px;margin:6px auto 10px}
.sheet-actions{display:grid;gap:8px;margin:8px 0}
.btn-google{background:#1a73e8;color:#fff}.btn-linkedin{background:#0a66c2;color:#fff}

/* Calendar */
.cal-card{background:var(--surface);border:1px solid var(--border);border-radius: var(--r-xl);padding:14px;margin:16px}
.banner.success{display:flex;align-items:center;gap:8px;background:rgba(34,197,94,.12);border:1px solid rgba(34,197,94,.35);color:#22c55e;border-radius: var(--r-lg);padding:8px 12px;margin:10px 16px 0}
.banner .dot{width:8px;height:8px;border-radius:4px;background:#22c55e}

/* Invites Trophy Case */
.inv-head{display:flex;justify-content:space-between;align-items:end;margin:16px}
.pill-gold{padding:6px 10px;border-radius:999px;background:linear-gradient(180deg, rgba(255,215,0,.18), rgba(255,215,0,.10));border:1px solid rgba(255,215,0,.45);color:#ffd700;font-weight:700}
.inv-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin:8px 16px}
.stat{background:var(--surface);border:1px solid var(--border);border-radius: var(--r-lg);padding:10px;text-align:center}
.val{font-weight:800;font-size:18px}.lab{display:block;font-size:12px;color:var(--text-secondary);margin-top:2px}
.inv-actions{display:flex;gap:8px;flex-wrap:wrap;margin:10px 16px}
.trophy-list{list-style:none;margin:0 16px 16px;padding:0;max-height:56vh;overflow:auto}
.trophy-row{display:flex;align-items:center;gap:10px;background:var(--surface);border:1px solid var(--border);border-radius: var(--r-lg);padding:10px 12px}
.trophy-row .avatar{width:40px;height:40px;border-radius:50%;object-fit:cover;border:1px solid rgba(255,255,255,.08)}
.badge.ok{color:#22c55e;background:rgba(34,197,94,.12);border:1px solid rgba(34,197,94,.35);border-radius:999px;padding:4px 8px;font-size:12px;margin-left:auto}
.badge.wait{color:#a5a7ad;background:rgba(165,167,173,.1);border:1px solid rgba(165,167,173,.35);border-radius:999px;padding:4px 8px;font-size:12px;margin-left:auto;animation:softPulse 2.2s ease-in-out infinite}

/* Utilities */
.toast{position:fixed;left:50%;bottom:72px;transform:translateX(-50%);background:rgba(21,21,26,.96);border:1px solid var(--border);color:var(--text-primary);padding:8px 12px;border-radius: var(--r-lg);z-index:9999}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
@keyframes pop{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
@keyframes rise{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
@keyframes softPulse{0%{opacity:.7}50%{opacity:1}100%{opacity:.7}}
  --z-install: 65;
  --z-canvas: 10;

  /* Blur */
  --blur-sheet: 8px;

  /* Typography */
  --fz-xl: var(--s-6);
  --fz-lg: 18px;
  --fz-md: var(--s-4);
  --fz-sm: 14px;
  --fz-xs: var(--s-3);

  /* Typography System */
  --font-system: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Inter", sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, "SF Mono", Consolas, monospace;
  
  /* Spacing Scale */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: var(--s-3);
  --space-4: var(--s-4);
  --space-5: var(--s-5);
  --space-6: var(--s-6);
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;
  --space-16: 64px;
  --space-20: 80px;
  --space-24: 96px;

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.15);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.2);
  --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.25);
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  :root {
    --t-instant: 0ms;
    --t-fast: 0ms;
    --t-normal: 0ms;
    --t-slow: 0ms;
  }
  
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ===== RESET & BASE ===== */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-family: var(--font-system);
  font-size: var(--fz-md);
  line-height: 1.5;
  -webkit-text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  scroll-behavior: smooth;
}

body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  min-height: 100vh;
  overflow-x: hidden;
}

/* ===== LAYOUT SYSTEM ===== */
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--space-4);
}

.stack > * + * {
  margin-top: var(--space-4);
}

.stack-sm > * + * {
  margin-top: var(--space-2);
}

.stack-lg > * + * {
  margin-top: var(--space-6);
}

/* ===== TOPBAR ===== */
.topbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 60px;
  background-color: var(--bg-secondary);
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(var(--blur-sheet));
  z-index: var(--z-nav);
  display: flex;
  align-items: center;
  padding: 0 var(--space-4);
  justify-content: space-between;
}

.topbar-left {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.brand-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent-primary), var(--dev-color));
  box-shadow: 0 0 8px var(--accent-primary);
}

.title {
  font-size: var(--fz-lg);
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

/* ===== MAIN LAYOUT ===== */
#app {
  padding-top: 60px;
  padding-bottom: 80px;
  min-height: 100vh;
}

main {
  position: relative;
  z-index: 1;
}

/* ===== SECTIONS ===== */
section {
  padding: var(--space-6) 0;
  min-height: calc(100vh - 140px);
}

.section-title {
  font-size: var(--fz-xl);
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--space-6);
}

/* ===== SIGNAL FIELD CANVAS ===== */
.signal-field {
  position: fixed;
  top: 60px;
  left: 0;
  right: 0;
  bottom: 80px;
  z-index: var(--z-canvas);
  pointer-events: none;
  opacity: 0.6;
  mix-blend-mode: screen;
}

/* ===== CARDS ===== */
 .legacy-card,
.pi-card {
  background-color: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: var(--space-6);
  transition: all var(--t-normal) var(--ease-out);
}

 .legacy-card:hover,
.pi-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
  border-color: var(--accent-primary);
}

.status-card {
  background: linear-gradient(135deg, var(--surface), var(--bg-secondary));
  margin-bottom: var(--space-6);
}

.status-header {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  margin-bottom: var(--space-6);
}

.user-avatar {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent-primary), var(--dev-color));
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  color: white;
  font-size: var(--fz-lg);
}

.user-info h2 {
  font-size: var(--fz-lg);
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--space-1);
}

.user-level {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--fz-sm);
  color: var(--text-secondary);
}

.level-badge {
  padding: var(--space-1) var(--space-2);
  background: var(--accent-primary);
  color: white;
  border-radius: var(--r-sm);
  font-size: var(--fz-xs);
  font-weight: 600;
  text-transform: uppercase;
}

.score {
  color: var(--accent-warning);
  font-weight: 600;
}

.status-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-4);
}

.stat-item {
  text-align: center;
  padding: var(--space-3);
  border-radius: var(--r-md);
  background: rgba(255, 255, 255, 0.05);
  cursor: pointer;
  transition: all var(--t-fast) var(--ease-out);
}

.stat-item:hover {
  background: rgba(255, 255, 255, 0.1);
  transform: translateY(-1px);
}

.stat-number {
  display: block;
  font-size: var(--fz-xl);
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: var(--space-1);
}

.stat-label {
  font-size: var(--fz-xs);
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* ===== BUTTON SYSTEM ===== */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-5);
  border: 1px solid transparent;
  border-radius: var(--r-md);
  font-family: inherit;
  font-size: var(--fz-sm);
  font-weight: 500;
  line-height: 1;
  text-decoration: none;
  cursor: pointer;
  transition: all var(--t-fast) var(--ease-out);
  white-space: nowrap;
  user-select: none;
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none !important;
}

.btn-primary {
  background-color: var(--accent-primary);
  color: white;
  border-color: var(--accent-primary);
}

.btn-primary:hover:not(:disabled) {
  background-color: var(--accent-primary);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(107, 123, 255, 0.3);
}

.btn-secondary {
  background-color: var(--surface);
  color: var(--text-primary);
  border-color: var(--border);
}

.btn-secondary:hover:not(:disabled) {
  background-color: var(--bg-secondary);
  border-color: var(--accent-primary);
  transform: translateY(-1px);
}

.btn-ghost {
  background-color: transparent;
  color: var(--text-secondary);
  border-color: transparent;
}

.btn-ghost:hover:not(:disabled) {
  background-color: rgba(255, 255, 255, 0.05);
  color: var(--text-primary);
}

.btn-success {
  background-color: var(--accent-success);
  color: white;
  border-color: var(--accent-success);
}

.btn-warning {
  background-color: var(--accent-warning);
  color: var(--bg-primary);
  border-color: var(--accent-warning);
}

.btn-error {
  background-color: var(--accent-error);
  color: white;
  border-color: var(--accent-error);
}

/* ===== TABS ===== */
.tabs {
  display: flex;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: var(--space-1);
  margin-bottom: var(--space-6);
}

.tab {
  flex: 1;
  padding: var(--space-3) var(--space-4);
  background: transparent;
  border: none;
  border-radius: var(--r-md);
  color: var(--text-secondary);
  font-size: var(--fz-sm);
  font-weight: 500;
  cursor: pointer;
  transition: all var(--t-fast) var(--ease-out);
}

.tab:hover {
  color: var(--text-primary);
  background: rgba(255, 255, 255, 0.05);
}

.tab.is-active {
  background: var(--accent-primary);
  color: white;
  box-shadow: var(--shadow-sm);
}

/* ===== TABBAR ===== */
.tabbar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 80px;
  background: var(--bg-secondary);
  border-top: 1px solid var(--border);
  backdrop-filter: blur(var(--blur-sheet));
  z-index: var(--z-nav);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 var(--space-4);
}

.tablink {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-2);
  color: var(--text-muted);
  text-decoration: none;
  transition: all var(--t-fast) var(--ease-out);
  border-radius: var(--r-md);
}

.tablink:hover {
  color: var(--text-secondary);
  background: rgba(255, 255, 255, 0.05);
}

.tablink.is-active {
  color: var(--accent-primary);
}

.tablink::before {
  content: attr(data-icon);
  font-size: var(--fz-lg);
}

.tablink::after {
  content: attr(data-icon);
  font-size: var(--fz-xs);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* ===== QUICK ACTIONS ===== */
.quick-actions {
  position: fixed;
  bottom: 100px;
  right: var(--space-4);
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  z-index: var(--z-sheet);
}

.quick-action-btn {
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: var(--accent-primary);
  color: white;
  border: none;
  font-size: var(--fz-lg);
  cursor: pointer;
  box-shadow: var(--shadow-lg);
  transition: all var(--t-fast) var(--ease-out);
  display: flex;
  align-items: center;
  justify-content: center;
}

.quick-action-btn:hover {
  transform: translateY(-2px) scale(1.05);
  box-shadow: var(--shadow-xl);
}

.fab {
  position: fixed;
  bottom: 100px;
  right: var(--space-4);
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background: var(--accent-primary);
  color: white;
  border: none;
  font-size: var(--fz-xl);
  font-weight: 300;
  cursor: pointer;
  box-shadow: var(--shadow-xl);
  transition: all var(--t-normal) var(--ease-spring);
  z-index: var(--z-sheet);
  transform: scale(0);
  opacity: 0;
}

.fab:hover {
  transform: scale(1.1);
  box-shadow: 0 8px 32px rgba(107, 123, 255, 0.4);
}

/* ===== PROFILE COMPONENTS ===== */
.pi-profile {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-4);
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  transition: all var(--t-normal) var(--ease-out);
  cursor: pointer;
}

.pi-profile:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: var(--accent-primary);
}

.pi-profile-avatar {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--dev-color), var(--accent-primary));
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  color: white;
  position: relative;
}

.pi-profile-status {
  position: absolute;
  bottom: -2px;
  right: -2px;
  width: var(--s-4);
  height: var(--s-4);
  border-radius: 50%;
  background: var(--accent-success);
  border: 2px solid var(--bg-primary);
}

.pi-profile-info {
  flex: 1;
}

.pi-profile-name {
  font-size: var(--fz-md);
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--space-1);
}

.pi-profile-title {
  font-size: var(--fz-sm);
  color: var(--text-secondary);
  margin-bottom: var(--space-2);
}

.pi-profile-tags {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.pi-profile-tag {
  padding: var(--space-1) var(--space-2);
  background: rgba(107, 123, 255, 0.2);
  color: var(--accent-primary);
  border-radius: var(--r-sm);
  font-size: var(--fz-xs);
  font-weight: 500;
}

/* ===== OPPORTUNITY COMPONENTS ===== */
.pi-opportunity {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: var(--space-6);
  transition: all var(--t-normal) var(--ease-out);
  position: relative;
  overflow: hidden;
}

.pi-opportunity::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--accent-success), var(--accent-warning));
  opacity: 0;
  transition: opacity var(--t-normal) var(--ease-out);
}

.pi-opportunity:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
  border-color: var(--accent-primary);
}

.pi-opportunity:hover::before {
  opacity: 1;
}

.pi-opportunity-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--space-4);
}

.pi-opportunity-match {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  background: rgba(34, 197, 94, 0.2);
  color: var(--accent-success);
  border-radius: var(--r-md);
  font-size: var(--fz-sm);
  font-weight: 600;
}

.pi-opportunity-match-score {
  font-size: var(--fz-lg);
  font-weight: 700;
}

.pi-opportunity-type {
  padding: var(--space-1) var(--space-3);
  background: rgba(107, 123, 255, 0.2);
  color: var(--accent-primary);
  border-radius: var(--r-sm);
  font-size: var(--fz-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.pi-opportunity-title {
  font-size: var(--fz-lg);
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--space-3);
}

.pi-opportunity-description {
  color: var(--text-secondary);
  line-height: 1.6;
  margin-bottom: var(--space-4);
}

.pi-opportunity-skills {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
  margin-bottom: var(--space-4);
}

.pi-opportunity-skill {
  padding: var(--space-1) var(--space-2);
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--border);
  color: var(--text-secondary);
  border-radius: var(--r-sm);
  font-size: var(--fz-xs);
  transition: all var(--t-fast) var(--ease-out);
}

.pi-opportunity-skill:hover {
  background: var(--accent-primary);
  color: white;
  border-color: var(--accent-primary);
  transform: scale(1.05);
}

.pi-opportunity-actions {
  display: flex;
  gap: var(--space-3);
}

.pi-opportunity-btn {
  flex: 1;
  padding: var(--space-3) var(--space-4);
  border-radius: var(--r-md);
  font-weight: 600;
  font-size: var(--fz-sm);
  border: none;
  cursor: pointer;
  transition: all var(--t-fast) var(--ease-out);
}

.pi-opportunity-btn-primary {
  background: var(--accent-primary);
  color: white;
}

.pi-opportunity-btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(107, 123, 255, 0.3);
}

.pi-opportunity-btn-secondary {
  background: rgba(255, 255, 255, 0.05);
  color: var(--text-secondary);
  border: 1px solid var(--border);
}

.pi-opportunity-btn-secondary:hover {
  background: rgba(255, 255, 255, 0.1);
  color: var(--text-primary);
}

/* ===== EVENT COMPONENTS ===== */
.event-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: var(--space-6);
  transition: all var(--t-normal) var(--ease-out);
  cursor: pointer;
}

.event-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
  border-color: var(--accent-primary);
}

.event-header {
  margin-bottom: var(--space-4);
}

.event-badges {
  display: flex;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.badge {
  padding: var(--space-1) var(--space-2);
  border-radius: var(--r-sm);
  font-size: var(--fz-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.badge-official {
  background: rgba(107, 123, 255, 0.2);
  color: var(--accent-primary);
}

.badge-ugc {
  background: rgba(34, 197, 94, 0.2);
  color: var(--accent-success);
}

.badge-category {
  background: rgba(253, 224, 71, 0.2);
  color: var(--accent-warning);
}

.event-title {
  font-size: var(--fz-lg);
  font-weight: 600;
  color: var(--text-primary);
}

.event-meta {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: var(--space-3);
  margin-bottom: var(--space-4);
}

.meta-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.meta-icon {
  font-size: var(--fz-sm);
}

.meta-text {
  font-size: var(--fz-sm);
  color: var(--text-secondary);
}

.event-description {
  color: var(--text-secondary);
  line-height: 1.6;
  margin-bottom: var(--space-4);
}

.event-actions {
  display: flex;
  gap: var(--space-3);
}

/* ===== EMPTY STATE ===== */
.empty-state {
  text-align: center;
  padding: var(--space-16) var(--space-4);
}

.empty-icon {
  font-size: 48px;
  margin-bottom: var(--space-4);
  opacity: 0.5;
}

.empty-title {
  font-size: var(--fz-lg);
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--space-2);
}

.empty-subtitle {
  color: var(--text-secondary);
  margin-bottom: var(--space-6);
}

/* ===== LOADING STATES ===== */
.loading-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-16) var(--space-4);
}

.loading-spinner {
  width: 32px;
  height: 32px;
  border: 3px solid rgba(255, 255, 255, 0.1);
  border-top: 3px solid var(--accent-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: var(--space-4);
}

.loading-message {
  color: var(--text-secondary);
  font-size: var(--fz-sm);
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* ===== RESPONSIVE DESIGN ===== */
@media (max-width: 768px) {
  .container {
    padding: 0 var(--space-3);
  }

  .topbar {
    padding: 0 var(--space-3);
  }

  .status-stats {
    grid-template-columns: repeat(2, 1fr);
  }

  .pi-profile {
    flex-direction: column;
    text-align: center;
  }

  .pi-opportunity-actions,
  .event-actions {
    flex-direction: column;
  }

  .event-meta {
    grid-template-columns: 1fr;
  }

  .quick-actions {
    right: var(--space-3);
  }

  .fab {
    right: var(--space-3);
  }
}

@media (max-width: 480px) {
  :root {
    --space-4: var(--s-3);
    --space-6: 18px;
  }

   .legacy-card,
  .pi-card,
  .pi-opportunity,
  .event-card {
    padding: var(--space-4);
  }

  .section-title {
    font-size: var(--fz-lg);
  }

  .status-stats {
    grid-template-columns: 1fr;
  }
}

/* ===== ACCESSIBILITY ===== */
@media (prefers-contrast: high) {
  :root {
    --border: #ffffff;
    --text-secondary: #ffffff;
  }
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus styles */
*:focus-visible {
  outline: 2px solid var(--accent-primary);
  outline-offset: 2px;
}

/* ===== UTILITY CLASSES ===== */
.hidden {
  display: none !important;
}

.text-center {
  text-align: center;
}

.text-primary {
  color: var(--text-primary);
}

.text-secondary {
  color: var(--text-secondary);
}

.text-muted {
  color: var(--text-muted);
}

.bg-primary {
  background-color: var(--bg-primary);
}

.bg-secondary {
  background-color: var(--bg-secondary);
}

.bg-surface {
  background-color: var(--surface);
}

/* Spacing utilities */
.p-0 { padding: 0; }
.p-1 { padding: var(--space-1); }
.p-2 { padding: var(--space-2); }
.p-3 { padding: var(--space-3); }
.p-4 { padding: var(--space-4); }
.p-5 { padding: var(--space-5); }
.p-6 { padding: var(--space-6); }

.m-0 { margin: 0; }
.m-1 { margin: var(--space-1); }
.m-2 { margin: var(--space-2); }
.m-3 { margin: var(--space-3); }
.m-4 { margin: var(--space-4); }
.m-5 { margin: var(--space-5); }
.m-6 { margin: var(--space-6); }

.mb-2 { margin-bottom: var(--space-2); }
.mb-3 { margin-bottom: var(--space-3); }
.mb-4 { margin-bottom: var(--space-4); }
.mb-6 { margin-bottom: var(--space-6); }

.mt-2 { margin-top: var(--space-2); }
.mt-3 { margin-top: var(--space-3); }
.mt-4 { margin-top: var(--space-4); }
.mt-6 { margin-top: var(--space-6); }

/* ===== ESSENTIAL UTILITIES ===== */
/* === Utilities === */
.stack{ display:grid; gap:var(--sp-3) }
.row{ display:flex; align-items:center; gap:var(--sp-3) }
.truncate{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap }
.hidden{ display:none !important }

/* === Buttons (normalize) === */
.btn{
  appearance:none; border:1px solid var(--border); background:var(--surface); color:var(--text-secondary);
  padding:10px 14px; border-radius:var(--r-md); cursor:pointer; transition:transform var(--t-fast) var(--ease-out), background var(--t-fast) var(--ease-out), color var(--t-fast) var(--ease-out), border-color var(--t-fast) var(--ease-out);
}
.btn:hover{ transform:translateY(-1px); color:var(--text-primary); border-color:#3a3a45 }
.btn:active{ transform:translateY(0); box-shadow:var(--sh-press) }
.btn:focus-visible{ outline:none; box-shadow:var(--focus-ring) }
.btn-primary{ background:var(--accent-primary); color:#fff; border-color:transparent }
.btn-danger{ background:var(--accent-error); color:#fff; border-color:transparent }
.btn-ghost{ background:transparent; border-color:var(--border); color:var(--text-secondary) }

/* === Badges === */
.badge{
  display:inline-flex; align-items:center; gap:6px; border:1px solid var(--border); background:var(--surface);
  color:var(--text-secondary); border-radius: var(--r-lg); padding:4px 8px; font-size:12px; line-height:1;
}
.badge.info{ border-color:#3a3a45 }
.badge.success{ border-color:#2e7d32; color:#9be09b }
.badge.warn{ border-color:#7a6a1a; color:#f6e28b }

/* === Skeletons === */
.skel{ position:relative; overflow:hidden; background:#1c1c22; border-radius:var(--r-md) }
.skel::after{
  content:""; position:absolute; inset:0; background:linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
  transform:translateX(-100%); animation:skel 1200ms infinite;
}
@keyframes skel{ to { transform:translateX(100%) } }

/* === Focus ring for inputs === */
input, textarea, select{ outline:none }
input:focus-visible, textarea:focus-visible, select:focus-visible{ box-shadow:var(--focus-ring) }

/* === Divider === */
.divider{ height:1px; background:var(--border); margin:var(--sp-3) 0 }

/* === Party Card === */
.party-card{
  background:var(--bg-secondary); border:1px solid var(--border); border-radius:var(--r-lg); padding:var(--sp-4);
}
.party-title{ font-size:var(--fz-lg); font-weight:700 }
.party-meta{ color:var(--text-secondary); font-size:var(--fz-sm) }
.party-overlay{ display:flex; gap:6px; flex-wrap:wrap; margin-top:var(--sp-2) }
.party-cta{ display:flex; gap:8px; margin-top:var(--sp-3) }

/* === Connection Card Timeline === */
.cc-timeline{ margin-top:var(--sp-3); border-top:1px solid var(--border); padding-top:var(--sp-3) }
.cc-tl-item{ display:flex; gap:8px; align-items:flex-start; padding:6px 0 }
.cc-tl-dot{ width:8px; height:8px; border-radius:4px; background:var(--accent-primary); margin-top:6px }
.cc-tl-meta{ font-size:var(--fz-xs); color:var(--text-secondary) }

/* ===== PRINT STYLES ===== */
@media print {
  .topbar,
  .tabbar,
  .quick-actions,
  .fab {
    display: none !important;
  }
  
  #app {
    padding-top: 0;
    padding-bottom: 0;
  }
  
   .legacy-card,
  .pi-card {
    box-shadow: none;
    border: 1px solid #000;
  }
}

/* === Parties-first FOMO === */
.pff-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px}
.pff-logo{font-weight:700;font-size:14px;letter-spacing:.02em;color:var(--text-secondary)}
.badge.live{background:var(--accent-error);color:#fff;border:none}

.pff-hero{padding:6px 16px 12px}
.pff-hero h1{font-size:22px;font-weight:800;letter-spacing:-.01em}
.pff-hero .sub{color:var(--text-secondary);font-size:14px;margin-top:4px}

.pff-party-list{display:grid;gap:12px;padding:0 12px 84px}

.pff-card{background:var(--surface);border:1px solid var(--border);border-radius: var(--r-xl);overflow:hidden}
.pff-card .img-wrap{display:block;position:relative;height:156px;background:#0b0b0f}
.pff-card img{width:100%;height:100%;object-fit:cover;display:block;filter:saturate(1.05) contrast(1.02)}
.img-sheen{position:absolute;inset:0;background:linear-gradient(to top, rgba(0,0,0,.55), rgba(0,0,0,0));opacity:.75}
.pff-card .meta{padding:12px}
.pff-card .title{font-size:16px;font-weight:700}
.pff-card .line{display:flex;gap:8px;align-items:center;color:var(--text-secondary);font-size:13px;margin:4px 0 8px}
.pff-card .line .dot{width:4px;height:4px;border-radius:2px;background:var(--text-muted)}
.pff-card .badges{display:flex;gap:6px;flex-wrap:wrap}
.pff-card .badge{border:1px solid var(--border);background:rgba(255,255,255,.02)}
.pff-card .badge.rsvp{color:var(--accent-success);border-color:rgba(34,197,94,.25)}
.pff-card .badge.source{color:var(--accent-primary);border-color:rgba(107,123,255,.25)}
.pff-card .actions{margin-top:10px}
.btn.pill{border-radius:999px;padding:8px 12px}
.btn.pill.saved{background:var(--accent-success);color:#000;border-color:transparent}

.pff-footer{position:fixed;left:0;right:0;bottom:0;background:rgba(15,15,18,.95);backdrop-filter:blur(8px);
  border-top:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;padding:10px 12px}
.pff-saved{font-size:14px;color:var(--text-secondary)}
#pff-continue{min-width:140px}

.pff-skeleton{background:var(--surface);border:1px solid var(--border);border-radius: var(--r-xl);overflow:hidden}
.pff-skeleton .sk-img{height:156px;background:linear-gradient(90deg,#16161b 25%,#1a1a1f 50%,#16161b 75%);background-size:200% 100%;animation:sk 1.1s linear infinite}
.pff-skeleton .sk-line{height:12px;margin:10px 12px;border-radius:6px;background:linear-gradient(90deg,#21212a 25%,#242430 50%,#21212a 75%);background-size:200% 100%;animation:sk 1.1s linear infinite}
.pff-skeleton .sk-line.short{width:60%}
@keyframes sk{0%{background-position:200% 0}100%{background-position:-200% 0}}

@media (prefers-reduced-motion:reduce){
  .pff-card:hover{transform:none}
}

/* === Invite Navigation & Badge === */
.nav-tab {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-decoration: none;
  color: var(--text-muted, #6b6b75);
  transition: all var(--t-fast, 150ms) var(--ease-out);
  padding: 8px 12px;
  border-radius: var(--r-md, 12px);
  min-width: 60px;
}

.nav-tab:hover {
  background: rgba(255, 255, 255, 0.08);
  color: var(--text-primary, #ffffff);
}

.nav-tab.active {
  color: var(--accent-primary, #6b7bff);
  background: rgba(107, 123, 255, 0.1);
}

/* Invite Badge (Glass + Glow) */
.invite-badge {
  position: absolute;
  top: -2px;
  right: 8px;
  background: rgba(255, 215, 0, 0.15); /* Glass gold */
  border: 1px solid rgba(255, 215, 0, 0.4);
  color: #ffd700;
  font-size: 13px;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: var(--s-3);
  box-shadow: 0 0 6px rgba(255, 215, 0, 0.4);
  backdrop-filter: blur(6px);
  transition: transform 0.2s ease, background 0.3s ease;
  min-width: var(--s-4);
  text-align: center;
  line-height: 1.2;
}

/* Glow state when new invites arrive */
.invite-badge.glow {
  animation: badgeGlow 1.5s ease-in-out infinite alternate;
}

@keyframes badgeGlow {
  0% {
    box-shadow: 0 0 6px rgba(255, 215, 0, 0.4);
    transform: scale(1);
  }
  100% {
    box-shadow: 0 0 12px rgba(255, 215, 0, 0.7);
    transform: scale(1.08);
  }
}

.invite-badge:empty {
  display: none;
}

/* Sidebar Invite Row (for future sidebar implementation) */
.sidebar-item.invites {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 14px;
  margin: 4px 0;
  border-radius: var(--r-md);
  cursor: pointer;
  transition: background 0.2s ease;
}

.sidebar-item.invites:hover {
  background: rgba(255, 255, 255, 0.08);
}

.sidebar-icon {
  font-size: 18px;
  margin-right: 8px;
}

.sidebar-label {
  flex: 1;
  font-size: 15px;
  color: var(--text-primary, #fff);
  font-weight: 500;
}

/* === Full-Screen Invite Panel === */
.invite-panel {
  position: fixed;
  inset: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  background: var(--app-bg, rgba(15, 15, 18, 0.85));
  color: var(--text-primary, #ffffff);
  opacity: 0;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  transform: scale(0.95);
  animation: fadeIn 0.3s ease;
}

.invite-panel[hidden] {
  display: none;
}

.invite-panel:not([hidden]) {
  opacity: 1;
  transform: scale(1);
}

.invite-panel-overlay {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, rgba(107, 123, 255, 0.08), transparent 70%);
}

.invite-panel-content {
  position: relative;
  width: min(520px, 90vw);
  max-height: 90vh;
  background: var(--app-bg, linear-gradient(145deg, rgba(26, 26, 31, 0.95), rgba(21, 21, 26, 0.98)));
  border: 1px solid var(--border, rgba(107, 123, 255, 0.2));
  border-radius: var(--s-6);
  box-shadow: 
    0 32px 64px rgba(0, 0, 0, 0.5),
    0 0 80px rgba(107, 123, 255, 0.15);
  padding: 2rem;
  overflow-y: auto;
  backdrop-filter: blur(40px);
  -webkit-backdrop-filter: blur(40px);
  height: 100%;
}

/* Header */
.invite-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 32px;
  padding-bottom: var(--s-6);
  border-bottom: 1px solid var(--divider, rgba(255, 255, 255, 0.08));
}

.invite-title-row {
  display: flex;
  align-items: baseline;
  gap: var(--s-3);
}

.invite-title {
  font-size: 28px;
  font-weight: 800;
  background: linear-gradient(135deg, #ffffff, #b3b3b3);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin: 0;
}

.invite-header-count {
  background: var(--accent, #6b7bff);
  color: white;
  font-size: 1.5rem;
  padding: 0.5rem 1rem;
  border-radius: 50%;
  font-weight: 600;
  animation: pulse 1.5s infinite;
}

.invite-close {
  background: var(--surface-hover, rgba(255, 255, 255, 0.08));
  border: 1px solid var(--border-subtle, rgba(255, 255, 255, 0.12));
  border-radius: var(--s-3);
  color: var(--text-primary, #ffffff);
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--s-5);
  cursor: pointer;
  transition: all 0.2s ease;
  backdrop-filter: blur(10px);
}

.invite-close:hover {
  background: var(--surface-active, rgba(255, 255, 255, 0.12));
  border-color: var(--border-hover, rgba(255, 255, 255, 0.2));
  transform: scale(1.05);
}

/* Hero Section */
.invite-hero {
  text-align: center;
  margin-bottom: 40px;
}

.invite-hero-count {
  position: relative;
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: var(--s-4);
}

.invite-count-main {
  font-size: 72px;
  font-weight: 900;
  line-height: 1;
  background: linear-gradient(135deg, #ffd700, #ffed4e);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-shadow: 0 4px 20px rgba(255, 215, 0, 0.3);
}

.invite-count-label {
  font-size: 14px;
  font-weight: 700;
  letter-spacing: 2px;
  color: rgba(255, 255, 255, 0.6);
  margin-top: -8px;
}

.invite-pulse-ring {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 120px;
  height: 120px;
  transform: translate(-50%, -50%);
  border: 2px solid rgba(255, 215, 0, 0.3);
  border-radius: 50%;
  animation: invitePulse 3s ease-in-out infinite;
}

/* Scarcity-based pulse intensities */
.invite-pulse-ring.pulse-low {
  animation: invitePulseLow 4s ease-in-out infinite;
  border-color: rgba(107, 123, 255, 0.3);
}

.invite-pulse-ring.pulse-medium {
  animation: invitePulseMedium 2.5s ease-in-out infinite;
  border-color: rgba(255, 193, 7, 0.4);
}

.invite-pulse-ring.pulse-high {
  animation: invitePulseHigh 1.5s ease-in-out infinite;
  border-color: rgba(255, 87, 34, 0.5);
}

.invite-pulse-ring.pulse-critical {
  animation: invitePulseCritical 1s ease-in-out infinite;
  border-color: rgba(244, 67, 54, 0.7);
  box-shadow: 0 0 20px rgba(244, 67, 54, 0.3);
}

@keyframes invitePulse {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.2);
    opacity: 0.5;
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
}

@keyframes invitePulseLow {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.6;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1);
    opacity: 0.3;
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.6;
  }
}

@keyframes invitePulseMedium {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.8;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.15);
    opacity: 0.4;
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.8;
  }
}

@keyframes invitePulseHigh {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.9;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.25);
    opacity: 0.5;
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.9;
  }
}

@keyframes invitePulseCritical {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
    box-shadow: 0 0 20px rgba(244, 67, 54, 0.3);
  }
  50% {
    transform: translate(-50%, -50%) scale(1.3);
    opacity: 0.7;
    box-shadow: 0 0 40px rgba(244, 67, 54, 0.6);
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
    box-shadow: 0 0 20px rgba(244, 67, 54, 0.3);
  }
}

.invite-hero-subtitle {
  font-size: var(--s-4);
  color: rgba(255, 255, 255, 0.7);
  font-weight: 500;
  margin: 0;
}

/* Progress Bar */
.invite-progress-container {
  margin: 1rem 0 40px 0;
}

.invite-progress-bar {
  width: 100%;
  height: 8px;
  background: var(--bg-secondary, rgba(255, 255, 255, 0.1));
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 8px;
}

.invite-progress-fill {
  height: 100%;
  background: var(--accent, linear-gradient(90deg, #6b7bff, #9b8bff));
  border-radius: 4px;
  transition: width 0.3s ease;
}

.invite-progress-label {
  text-align: center;
  font-size: 13px;
  color: rgba(255, 255, 255, 0.6);
  font-weight: 600;
}

/* Action Buttons */
.invite-actions {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: var(--s-3);
  margin-bottom: 40px;
}

.invite-action-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: var(--s-5) 16px;
  border-radius: var(--s-4);
  border: 1px solid transparent;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  margin: 0.5rem;
}

.invite-action-btn.primary {
  background: linear-gradient(135deg, #6b7bff, #8b5cf6);
  color: white;
  border-color: rgba(107, 123, 255, 0.3);
  box-shadow: 0 4px 20px rgba(107, 123, 255, 0.25);
}

.invite-action-btn.secondary {
  background: var(--surface-subtle, rgba(255, 255, 255, 0.05));
  color: var(--text-primary, rgba(255, 255, 255, 0.9));
  border-color: var(--border-subtle, rgba(255, 255, 255, 0.1));
}

.invite-action-btn:hover {
  transform: translateY(-2px);
}

.invite-action-btn.primary:hover {
  box-shadow: 0 8px 32px rgba(107, 123, 255, 0.4);
}

.invite-action-btn.secondary:hover {
  background: var(--surface-hover, rgba(255, 255, 255, 0.08));
  border-color: var(--border-hover, rgba(255, 255, 255, 0.2));
}

.invite-action-icon {
  font-size: var(--s-6);
}

/* Recent Invites */
.invite-recent-section,
.invite-social-section {
  margin-bottom: 32px;
}

.invite-section-title {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary, rgba(255, 255, 255, 0.9));
  margin: 0 0 16px 0;
}

.invite-recent-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--s-4);
  background: var(--surface-subtle, rgba(255, 255, 255, 0.03));
  border: 1px solid var(--border-subtle, rgba(255, 255, 255, 0.06));
  border-radius: var(--s-3);
  margin-bottom: 8px;
  transition: all 0.2s ease;
}

.invite-recent-item:hover {
  background: var(--surface-hover, rgba(255, 255, 255, 0.05));
  border-color: var(--border-hover, rgba(255, 255, 255, 0.1));
}

.invite-recent-name {
  font-weight: 600;
  color: var(--text-primary, rgba(255, 255, 255, 0.95));
  font-size: 15px;
}

.invite-recent-company {
  font-size: 13px;
  color: var(--text-secondary, rgba(255, 255, 255, 0.6));
  margin-top: 2px;
}

.invite-recent-status {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  font-weight: 600;
}

.invite-status-icon {
  font-size: var(--s-4);
}

/* Social Actions */
.invite-social-actions {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: var(--s-3);
}

.invite-social-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: var(--s-4);
  background: var(--surface-subtle, rgba(255, 255, 255, 0.03));
  border: 1px solid var(--border-subtle, rgba(255, 255, 255, 0.08));
  border-radius: var(--s-3);
  color: var(--text-primary, rgba(255, 255, 255, 0.9));
  font-weight: 600;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.invite-social-btn:hover {
  background: var(--surface-hover, rgba(255, 255, 255, 0.06));
  border-color: var(--border-hover, rgba(255, 255, 255, 0.15));
  transform: translateY(-1px);
}

.invite-social-icon {
  font-size: var(--s-5);
}

/* Footer */
.invite-footer {
  border-top: 1px solid var(--border-subtle, rgba(255, 255, 255, 0.08));
  padding-top: var(--s-6);
  display: flex;
  flex-direction: column;
  gap: var(--s-3);
}

.invite-nudge {
  display: flex;
  align-items: center;
  gap: var(--s-3);
  font-size: 13px;
  color: var(--text-secondary, rgba(255, 255, 255, 0.6));
  font-weight: 500;
}

.invite-nudge-icon {
  font-size: var(--s-4);
}

/* Mobile Responsive */
@media (max-width: 480px) {
  .invite-panel-content {
    padding: var(--s-6);
    border-radius: var(--s-5);
  }
  
  .invite-count-main {
    font-size: 56px;
  }
  
  .invite-actions {
    grid-template-columns: 1fr;
    gap: 8px;
  }
  
  .invite-action-btn {
    flex-direction: row;
    justify-content: center;
    padding: var(--s-4);
  }
  
  .invite-social-actions {
    grid-template-columns: 1fr;
    gap: 8px;
  }
}

/* ==== Invites Panel (prestige, Slack-inspired) ==== */
.inv-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px}
.inv-title{display:flex;gap:12px;align-items:center}
.inv-left-pill{
  padding:6px 10px;border-radius:999px;
  background:linear-gradient(180deg, rgba(255,215,0,.18), rgba(255,215,0,.10));
  border:1px solid rgba(255,215,0,.45); color:#ffd700; font-weight:600;
  backdrop-filter:blur(6px)
}
.inv-sub{color:var(--text-secondary);padding:0 16px 8px}

.inv-stats{display:flex;gap:12px;padding:0 16px}
.inv-stats .stat{flex:1;background:var(--surface);border:1px solid var(--border);border-radius: var(--r-lg);padding:12px;text-align:center}
.stat-value{font-size:20px;font-weight:800}
.stat-label{display:block;margin-top:4px;color:var(--text-secondary);font-size:12px}

.inv-progress{height:8px;margin:10px 16px;border-radius:4px;background:rgba(255,255,255,.04);overflow:hidden;border:1px solid var(--border)}
.inv-progress-fill{height:100%;width:0;background:var(--accent-primary);transition:width 260ms var(--ease-out)}

.inv-actions{display:flex;gap:8px;padding:8px 16px;flex-wrap:wrap}
.inv-section-title{padding:8px 16px;font-size:14px;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.08em}

.inv-list{list-style:none;margin:0;padding:0 8px 24px;display:grid;gap:8px}
.inv-row{display:flex;align-items:center;gap:10px;background:var(--surface);border:1px solid var(--border);border-radius: var(--r-lg);padding:10px 12px;transition:transform 150ms var(--ease-out), box-shadow 150ms var(--ease-out)}
.inv-row:hover{transform:translateY(-1px);box-shadow:0 8px 28px rgba(0,0,0,.22)}
.inv-row .avatar{width:40px;height:40px;border-radius:20px;object-fit:cover;border:1px solid rgba(255,255,255,.08)}
.inv-row .who .name{font-weight:700}
.inv-row .who .meta{font-size:12px;color:var(--text-secondary)}
.badge.status{margin-left:auto;border-radius:999px;padding:4px 8px;font-size:12px;border:1px solid var(--border)}
.badge.status.redeemed{color:#22c55e;border-color:rgba(34,197,94,.35);background:rgba(34,197,94,.12)}
.badge.status.pending{color:#a5a7ad;border-color:rgba(165,167,173,.35);background:rgba(165,167,173,.10);animation:pendingPulse 2.2s ease-in-out infinite}
@keyframes pendingPulse{0%{opacity:.8}50%{opacity:1}100%{opacity:.8}}

.inv-empty{text-align:center;padding:40px 16px}
.inv-empty .art{width:72px;height:72px;margin:0 auto 10px;border-radius: var(--r-xl);background:linear-gradient(135deg, rgba(255,215,0,.22), rgba(107,123,255,.18))}
.inv-empty h3{margin:6px 0}

.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* Micro-interactions for count change */
.inv-left-pill.bump{animation:invBump .32s cubic-bezier(.2,.8,.2,1)}
.stat-value.bump{animation:invBump .32s cubic-bezier(.2,.8,.2,1)}
@keyframes invBump{0%{transform:scale(.92)}60%{transform:scale(1.12)}100%{transform:scale(1)}}

/* ==== Professional Modal System (Jobs/Ive polish) ==== */
.modal {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(6px);
  z-index: 1000;
  animation: fadeIn 0.4s ease forwards;
}
.modal.hidden { display: none; }
.modal-content {
  background: var(--bg-primary);
  padding: 2rem;
  border-radius: var(--s-4);
  text-align: center;
  box-shadow: 0 8px 24px rgba(0,0,0,0.2);
  animation: popIn 0.4s ease forwards;
}
#bonus-count {
  font-size: 3rem;
  font-weight: 700;
  color: var(--brand-accent);
  animation: countUp 1s ease forwards;
}
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes popIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
@keyframes countUp { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

/* Modal reward details styling */
.reward-details {
  margin: 1rem 0;
  padding: 1rem;
  background: rgba(255, 255, 255, 0.05);
  border-radius: var(--s-3);
  font-size: 0.9rem;
  color: var(--text-secondary);
}

#reward-title {
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  font-weight: 600;
}

#reward-message {
  color: var(--text-secondary);
  margin-bottom: 1rem;
  font-size: 0.95rem;
}

/* ===== PWA INSTALL CARD ===== */
.install-card {
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: var(--s-4);
  padding: var(--s-4);
  margin: var(--s-4);
  text-align: center;
  box-shadow: 0 12px 28px rgba(0,0,0,.18);
  animation: fadeInUp .32s var(--ease-out);
}

.install-card[hidden] {
  display: none;
}

.install-emoji { 
  font-size: 36px; 
  margin-bottom: 6px;
}

.install-title { 
  font-weight: 700; 
  margin: 4px 0 2px;
  color: var(--text-primary);
}

.install-sub { 
  color: var(--text-secondary); 
  margin: 0 0 12px;
}

.install-hint { 
  font-size: 13px; 
  color: var(--text-secondary); 
  margin-bottom: 10px;
}

.ios-chip { 
  display: inline-block; 
  padding: 2px 6px; 
  border-radius: var(--r-md); 
  border: 1px solid var(--border); 
  background: rgba(255,255,255,.06);
}

.install-actions { 
  display: flex; 
  gap: 8px; 
  justify-content: center;
}

.btn-primary { 
  background: var(--accent-primary); 
  color: #fff; 
  border: none; 
  border-radius: 10px; 
  padding: 8px 14px; 
  font-weight: 600;
  cursor: pointer;
}

.btn-ghost { 
  background: transparent; 
  color: var(--text-secondary); 
  border: 1px solid var(--border); 
  border-radius: 10px; 
  padding: 8px 14px;
  cursor: pointer;
}

@keyframes fadeInUp { 
  from { 
    opacity: 0; 
    transform: translateY(12px);
  } 
  to { 
    opacity: 1; 
    transform: translateY(0);
  }
}

/* iOS Install Modal */
.ios-install-modal {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(10px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: var(--z-modal);
  animation: fadeIn var(--t-normal) ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.ios-install-content {
  background: var(--surface);
  border-radius: var(--r-xl);
  padding: 2rem;
  max-width: 350px;
  width: 90%;
  text-align: center;
}

.ios-install-content h3 {
  color: var(--text-primary);
  margin-bottom: 1.5rem;
  font-size: 1.25rem;
}

.ios-steps {
  text-align: left;
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
  color: var(--text-secondary);
  line-height: 1.8;
}

.ios-steps li {
  margin-bottom: 0.75rem;
  font-size: 0.9rem;
}

.ios-steps b {
  color: var(--text-primary);
  font-weight: 600;
}

/* Minimal toast */
.toast {
  position: fixed;
  left: 50%;
  bottom: 72px;
  transform: translateX(-50%);
  background: rgba(21,21,26,.96);
  border: 1px solid var(--border);
  color: var(--text-primary);
  padding: 8px 12px;
  border-radius: var(--s-3);
  z-index: 9999;
  opacity: 0;
  transition: all var(--t-normal) var(--ease-spring);
}

.toast.show {
  opacity: 1;
}

.toast-success {
  border-color: var(--accent-success);
}

.toast .msg {
  color: var(--text-primary);
  font-size: 0.95rem;
  font-weight: 500;
}

/* ===== PROFESSIONAL INTELLIGENCE PLATFORM STYLES ===== */

/* Slack-style Left Sidebar */
.slack-sidebar {
  position: fixed;
  left: 0;
  top: 0;
  bottom: 0;
  width: 240px;
  background: var(--bg-secondary);
  border-right: 1px solid var(--border);
  z-index: 40;
  padding: var(--s-4) 0;
  overflow-y: auto;
}

@media (max-width: 768px) {
  .slack-sidebar {
    display: none;
  }
}

.sidebar-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 20px 16px;
  border-bottom: 1px solid var(--border);
  margin-bottom: var(--s-4);
}

.sidebar-header h2 {
  font-size: 18px;
  font-weight: 800;
  color: var(--text-primary);
  margin: 0;
}

.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #22c55e;
}

.status-dot.online {
  background: #22c55e;
  box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.2);
}

.sidebar-nav {
  display: flex;
  flex-direction: column;
  gap: 2px;
  padding: 0 12px;
}

.sidebar-item {
  display: flex;
  align-items: center;
  gap: var(--s-3);
  padding: 8px 12px;
  border-radius: var(--r-md);
  color: var(--text-secondary);
  text-decoration: none;
  transition: all 0.15s ease;
  position: relative;
}

.sidebar-item:hover {
  background: rgba(255, 255, 255, 0.04);
  color: var(--text-primary);
}

.sidebar-item.active {
  background: var(--accent-primary);
  color: #ffffff;
}

.sidebar-icon {
  font-size: var(--s-4);
  width: var(--s-5);
  text-align: center;
}

.sidebar-label {
  font-weight: 500;
  font-size: 14px;
  flex: 1;
}

/* Screen scaffold */
.screen {
  padding: var(--s-4) 16px 24px;
}

.screen-head {
  margin-bottom: var(--s-3);
}

.h1 {
  font-size: 22px;
  font-weight: 800;
  color: var(--text-primary);
  margin: 0 0 4px;
}

.sub {
  color: var(--text-secondary);
  margin: 0;
  font-size: 14px;
}

.muted {
  color: var(--text-secondary);
}

.eyebrow {
  color: var(--text-secondary);
  font-size: var(--s-3);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin: var(--s-3) 0 6px;
  font-weight: 600;
}

/* Inputs & chips */
.input {
  width: 100%;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--s-3);
  padding: var(--s-3) 14px;
  color: var(--text-primary);
  font-size: var(--s-4);
  transition: border-color 0.2s ease;
}

.input:focus {
  outline: none;
  border-color: var(--accent-primary);
}

.chip-row {
  display: flex;
  gap: 8px;
  margin-top: 8px;
  flex-wrap: wrap;
}

.chip {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.04);
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 13px;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.chip:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: var(--accent-primary);
}

.chip-active {
  background: rgba(107, 123, 255, 0.16);
  border-color: rgba(107, 123, 255, 0.35);
  color: var(--accent-primary);
}

.chip.ghost {
  opacity: 0.7;
  background: transparent;
}

/* Event cards */
.cards-flow {
  display: grid;
  gap: var(--s-3);
  margin-top: 14px;
}

.event-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--s-4);
  padding: 14px;
  animation: pop 0.22s var(--ease-out);
  transition: all 0.2s ease;
}

.event-card:hover {
  border-color: rgba(107, 123, 255, 0.25);
  transform: translateY(-1px);
}

.event-head {
  display: flex;
  justify-content: space-between;
  align-items: start;
  margin-bottom: 6px;
}

.title {
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
  font-size: var(--s-4);
}

.time {
  color: var(--accent-primary);
  font-weight: 600;
  font-size: 13px;
  white-space: nowrap;
}

.row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 6px 0;
}

.venue {
  color: var(--text-secondary);
  font-size: 14px;
}

.persona-pills {
  display: flex;
  gap: 4px;
  flex-wrap: wrap;
}

.persona-pills .pill {
  border-radius: var(--r-md);
  padding: 4px 8px;
  font-size: var(--s-3);
  color: #0f0f12;
  font-weight: 600;
}

.pill-dev {
  background: var(--dev-color);
}

.pill-pub {
  background: var(--pub-color);
}

.pill-inv {
  background: var(--inv-color);
}

.pill-sp {
  background: var(--sp-color);
}

.provenance {
  margin: 8px 0;
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.cta-row {
  display: flex;
  gap: 8px;
  margin-top: 10px;
}

.btn {
  background: var(--accent-primary);
  color: #ffffff;
  border: none;
  border-radius: var(--r-md);
  padding: 8px 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 14px;
}

.btn:hover {
  background: rgba(107, 123, 255, 0.8);
  transform: translateY(-1px);
}

.btn-secondary {
  background: var(--surface);
  color: var(--text-primary);
  border: 1px solid var(--border);
}

.btn-secondary:hover {
  background: rgba(255, 255, 255, 0.04);
  border-color: var(--accent-primary);
}

.btn-accent {
  background: #22c55e;
  color: #ffffff;
}

.btn-accent:hover {
  background: rgba(34, 197, 94, 0.8);
}

.btn-ghost {
  background: transparent;
  color: var(--text-secondary);
  border: 1px solid var(--border);
}

.btn-ghost:hover {
  background: rgba(255, 255, 255, 0.04);
  color: var(--text-primary);
}

.btn-primary {
  background: var(--accent-primary);
  color: #ffffff;
}

/* Install FTUE */
.install-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--s-4);
  text-align: center;
  padding: 14px;
  margin-top: var(--s-4);
  animation: rise 0.28s var(--ease-out);
}

.install-card .emoji {
  font-size: 36px;
  margin-bottom: 6px;
}

.install-card h3 {
  margin: 0 0 4px;
  font-size: var(--s-4);
  font-weight: 700;
  color: var(--text-primary);
}

.install-card .muted {
  margin-bottom: var(--s-3);
  font-size: 13px;
}

.hint {
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 8px;
}

.ios-chip {
  display: inline-block;
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  padding: 2px 6px;
  font-size: 11px;
  color: var(--text-primary);
  background: rgba(255, 255, 255, 0.04);
}

.actions {
  display: flex;
  gap: 8px;
  justify-content: center;
}

/* Sheet */
.sheet {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--bg-secondary);
  border-top: 1px solid var(--border);
  border-radius: var(--s-4) 16px 0 0;
  padding: var(--s-3) 16px 24px;
  transform: translateY(100%);
  opacity: 0;
  pointer-events: none;
  z-index: 60;
  transition: transform 0.22s var(--ease-out), opacity 0.22s var(--ease-out);
}

.sheet[open],
.sheet.show {
  transform: translateY(0);
  opacity: 1;
  pointer-events: auto;
}

.sheet-head {
  text-align: center;
  margin-bottom: var(--s-4);
}

.sheet-head .drag {
  width: 40px;
  height: 4px;
  background: rgba(255, 255, 255, 0.18);
  border-radius: 2px;
  margin: 6px auto 10px;
}

.sheet-head h3 {
  margin: 0 0 4px;
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
}

.sheet-actions {
  display: grid;
  gap: 8px;
  margin: 8px 0;
}

.btn-google {
  background: #1a73e8;
  color: #fff;
}

.btn-linkedin {
  background: #0a66c2;
  color: #fff;
}

.fine {
  font-size: var(--s-3);
  color: var(--text-secondary);
  text-align: center;
  margin: var(--s-3) 0 0;
}

/* Calendar */
.cal-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--s-4);
  padding: 14px;
  margin-top: var(--s-3);
}

.cal-card h3 {
  margin: 0 0 4px;
  font-size: var(--s-4);
  font-weight: 700;
  color: var(--text-primary);
}

.banner {
  display: flex;
  align-items: center;
  gap: 8px;
  border-radius: var(--s-3);
  padding: 8px 12px;
  margin-top: 10px;
  font-size: 14px;
}

.banner.success {
  background: rgba(34, 197, 94, 0.12);
  border: 1px solid rgba(34, 197, 94, 0.35);
  color: #22c55e;
}

.banner .dot {
  width: 8px;
  height: 8px;
  border-radius: 4px;
  background: #22c55e;
}

.status {
  font-size: 14px;
  margin-top: 8px;
}

/* Invites Trophy Case */
.inv-head {
  display: flex;
  justify-content: space-between;
  align-items: end;
  margin-bottom: 8px;
}

.pill-gold {
  padding: 6px 10px;
  border-radius: 999px;
  background: linear-gradient(180deg, var(--invited-gold-bg, rgba(255, 215, 0, 0.18)), rgba(255, 215, 0, 0.10));
  border: 1px solid var(--invited-gold-br, rgba(255, 215, 0, 0.45));
  color: var(--invited-gold-fg, #ffd700);
  font-weight: 700;
  font-size: 13px;
  animation: pillPulse 0.3s var(--ease-out);
}

.inv-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
  margin: 8px 0;
}

.stat {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--s-3);
  padding: 10px;
  text-align: center;
  transition: transform 0.2s ease;
}

.stat:hover {
  transform: translateY(-2px);
}

.val {
  font-weight: 800;
  font-size: 18px;
  color: var(--text-primary);
  display: block;
}

.lab {
  display: block;
  font-size: var(--s-3);
  color: var(--text-secondary);
  margin-top: 2px;
}

.inv-actions {
  display: flex;
  gap: 8px;
  margin: 10px 0;
  flex-wrap: wrap;
}

.trophy-list {
  list-style: none;
  margin: 0;
  padding: 0;
  max-height: 56vh;
  overflow: auto;
  display: grid;
  gap: 8px;
}

.trophy-row {
  display: flex;
  align-items: center;
  gap: 10px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--s-3);
  padding: 10px 12px;
  transition: all 0.2s ease;
  animation: slideIn 0.3s var(--ease-out);
}

.trophy-row:hover {
  border-color: rgba(107, 123, 255, 0.25);
  transform: translateX(4px);
}

.trophy-row .avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.who {
  flex: 1;
}

.name {
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
  font-size: 14px;
}

.meta {
  font-size: var(--s-3);
  margin: 2px 0 0;
}

.badge {
  border-radius: 999px;
  padding: 4px 8px;
  font-size: var(--s-3);
  font-weight: 600;
  margin-left: auto;
}

.badge.ok {
  color: #22c55e;
  background: rgba(34, 197, 94, 0.12);
  border: 1px solid rgba(34, 197, 94, 0.35);
}

.badge.wait {
  color: #a5a7ad;
  background: rgba(165, 167, 173, 0.1);
  border: 1px solid rgba(165, 167, 173, 0.35);
  animation: softPulse 2.2s ease-in-out infinite;
}

/* Bonus banner */
.bonus {
  display: flex;
  align-items: center;
  gap: 8px;
  background: linear-gradient(180deg, rgba(255, 215, 0, 0.15), rgba(255, 215, 0, 0.08));
  border: 1px solid rgba(255, 215, 0, 0.35);
  border-radius: var(--s-3);
  padding: 10px 12px;
  margin-top: var(--s-3);
  color: var(--invited-gold-fg, #ffd700);
  animation: bonusSlideUp 0.5s var(--ease-out);
}

.bonus.hidden {
  display: none;
}

.confetti {
  width: var(--s-5);
  height: var(--s-5);
  background: radial-gradient(circle, #ffd700 2px, transparent 3px);
  background-size: 6px 6px;
  animation: confettiSpin 1s ease-out;
}

/* Responsive adjustments */
@media (min-width: 769px) {
  .main-content {
    margin-left: 240px;
  }
}

/* Animations */
@keyframes pop {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes rise {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes softPulse {
  0% {
    opacity: 0.7;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0.7;
  }
}

@keyframes pillPulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.08);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes bonusSlideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes confettiSpin {
  from {
    opacity: 0;
    transform: rotate(0deg) scale(0.5);
  }
  50% {
    opacity: 1;
  }
  to {
    opacity: 0.8;
    transform: rotate(180deg) scale(1);
  }
}

/* ARIA live regions */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}