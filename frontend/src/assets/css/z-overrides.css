/* === Velocity overrides (loaded last) === */

/* 1) Calendar rows tall enough for hero cards */
:root{
  /* 60 minutes = 240px â†’ 30 minutes = 120px (cards align perfectly) */
  --hour-height: 240px !important;
}
.cal-grid .hour-row{ height: var(--hour-height) !important; border-bottom: 1px dashed rgba(255,255,255,.06); }
.cal-event{ position:absolute; left:0; right:0; }
.cal-event .vcard{ height:100%; display:flex; flex-direction:column; justify-content:center; }

/* 2) Sidebar fixed; main panel scrolls */
#sidebar{
  position: sticky !important;
  top: 0 !important;
  height: 100vh !important;
  overflow-y: auto !important;
}
#main{
  height: 100vh !important;
  overflow-y: auto !important;
  overscroll-behavior-y: contain;
}

/* 3) Guardrails: keep everything dark in the main content area */
#main *{
  color-scheme: dark;
}

/* ===== Layout guardrails (loaded last) ===== */
.app{                 /* the container that wraps sidebar + main */
  display:flex !important;
  height:100vh !important;
}

#sidebar{
  flex:0 0 280px !important;   /* fixed column */
  width:280px !important;
  position:sticky !important;
  top:0 !important;
  height:100vh !important;
  overflow-y:auto !important;
  z-index:2;
}

#main{
  flex:1 1 auto !important;    /* take remaining width */
  min-width:0 !important;       /* critical: lets flex child actually shrink instead of overflowing */
  height:100vh !important;
  overflow-y:auto !important;
  position:relative;
  z-index:1;
}

/* Remove any decorative vertical rail that might overlay the main column */
.left-accent, .app::before, .app::after{
  display:none !important;
}
