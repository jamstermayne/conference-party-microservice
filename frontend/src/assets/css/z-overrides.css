/**
 * Sidebar Layout Override
 * Authoritative grid rules with !important
 */

:root { 
  --sidebar-max: 260px;
}

/* Grid layout */
.app, .app-layout {
  display: grid !important;
  grid-template-columns: max-content minmax(0, 1fr) !important;
  column-gap: 0 !important;
  height: 100vh !important;
}

/* Sidebar sizing */
aside.sidebar, [data-role="sidebar"], #sidebar {
  position: sticky !important;
  top: 0 !important;
  height: 100vh !important;
  width: max-content !important;
  max-width: var(--sidebar-max) !important;
  white-space: nowrap !important;
  overflow: hidden !important;
}

/* Main content */
#main, .main-panel {
  min-width: 0 !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
}

/* Navigation layout */
aside.sidebar .nav, 
aside.sidebar ul {
  display: flex; 
  flex-direction: column; 
  gap: .5rem;
}

/* Nav items positioning for accent bar */
.sidebar nav a,
.sidebar [data-route],
.sidebar [data-nav] {
  position: relative !important;
  padding-left: var(--s-4) !important;
}

/* Active state styling with accent bar */
.sidebar [data-nav].active,
.sidebar [data-route].active,
.sidebar .nav a.active,
.sidebar a[aria-current="page"] {
  background:
    radial-gradient(120% 120% at -20% -40%, rgba(139,129,255,.25) 0, rgba(22,26,45,0) 65%),
    linear-gradient(180deg, rgba(139,129,255,.18), rgba(84,74,255,.12));
  box-shadow: 0 0 0 1px rgba(110,130,255,.28), 0 8px 24px rgba(0,0,0,.35);
  color: #eef2ff !important;
  border-radius: var(--s-4);
  padding: 8px 12px 8px 16px;
}

/* Active accent bar */
.sidebar [data-nav].active::before,
.sidebar [data-route].active::before,
.sidebar .nav a.active::before,
.sidebar a[aria-current="page"]::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: linear-gradient(180deg, #6b8cff, #8a6bff);
  border-radius: 0 3px 3px 0;
}
/* kill-brand-dot */
aside .brand .dot,
aside .brand .badge,
aside .brand::before {
  display: none !important;
  content: none !important;
}

/* Map container full height */
#main .map-container {
  height: calc(100vh - 2px) !important;
  overflow: hidden !important;
}

/* Remove indentation for subnav under #map */
aside .subnav { list-style: none; margin: 4px 0 8px; padding-left: 0; border-left: none; }
aside .subnav li { margin: 2px 0; }
aside .subnav a {
  display: block; padding: 4px 8px;
  white-space: nowrap;
  border-left: 3px solid transparent; /* accent only when active */
}
aside .subnav a.active {
  border-left-color: var(--accent, #6e5ef6);
  background: linear-gradient(90deg, color-mix(in oklab, var(--accent, #6e5ef6) 16%, transparent), transparent);
}
