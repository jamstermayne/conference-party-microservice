:root{
  /* Make calendar rows tall enough so 30 min >= hero card min height (~150px) */
  --cal-hour-px: 320;     /* 1h = 320px -> 30m = 160px */
  --cal-minor-step: 30;   /* minutes between minor grid lines */
  --cal-left-col-w: 64px; /* times column */
}

/* Layout */
.cal-wrap{ padding:16px 18px 32px 18px; }
.cal-head{ display:flex; gap:12px; margin:8px 0 16px 0; }
.cal-shell{ display:grid; grid-template-columns: var(--cal-left-col-w) 1fr; gap:14px; }

/* Time column */
.cal-hours{ position:relative; }
.cal-hours .tick{
  height: var(--cal-hour-px);
  color:#7782a3; font-size:12px; line-height:14px;
  display:flex; align-items:flex-start; justify-content:flex-end;
  padding-right:8px;
}

/* Grid track with 30-min minor lines */
.cal-track{
  position:relative;
  border:1px solid #20263a; border-radius:14px; overflow:hidden;
  background:
    /* minor 30-min lines */
    repeating-linear-gradient(
      to bottom,
      rgba(108,121,160,0.10) 0px,
      rgba(108,121,160,0.10) 1px,
      transparent 1px,
      transparent calc(var(--cal-hour-px) * (var(--cal-minor-step)/60))
    ),
    /* soft panel gradient */
    radial-gradient(1200px 420px at -220px -160px,#141b2b 0%,#0d1119 60%);
}

/* Events are regular hero cards absolutely positioned by time */
.cal-event{
  position:absolute; left:14px; right:14px;
  /* The card component styling lives in cards.css; we only add shadow focus here */
  box-shadow: 0 0 0 1px rgba(64,72,112,0.35) inset, 0 14px 40px rgba(60,80,160,0.06);
}

/* compact pill row inside card when used in calendar */
.cal-event .vcard__meta{ margin-top:6px }