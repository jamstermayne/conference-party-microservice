/* ---- Calendar Layout (collision-proof, sidebar-agnostic) ---- */
:root{
  --hour-height: 240px;                 /* 60m vertical height */
  --cal-baseline-hour: 8;               /* 08:00 start */
  --cal-end-hour: 22;                   /* 22:00 end */
  --cal-gutter: 56px;                   /* left time gutter width */
  --cal-pad: 16px;                      /* right padding */
  --cal-grid-line: rgba(255,255,255,.06);
  --cal-muted: #9aa7bf;
}

/* Page container inside #main */
.calendar-screen{
  padding: 8px 0 48px;
}

/* Sticky toolbar */
.cal-toolbar{
  position: sticky; top: 0; z-index: 5;
  padding: 10px 12px 12px;
  background: linear-gradient(180deg, rgba(13,18,29,.85), rgba(13,18,29,0));
  backdrop-filter: blur(6px);
  display: flex; gap: 8px; align-items: center;
}

/* Grid host */
.cal-grid{
  position: relative;
  margin: 8px 0 24px;
  min-height: calc((var(--cal-end-hour) - var(--cal-baseline-hour)) * var(--hour-height));
  border-left: 1px solid var(--cal-grid-line);
}

/* Hour rows + labels */
.cal-grid .hour-row{
  height: var(--hour-height);
  border-bottom: 1px dashed var(--cal-grid-line);
  position: relative;
}
.cal-grid .hour-row .label{
  position: absolute;
  left: 0; top: -8px; width: var(--cal-gutter);
  text-align: right; padding-right: 10px;
  font-size: 12px; color: var(--cal-muted);
}

/* Events layer (occupies space right of gutter) */
.cal-events{
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
}

/* Individual event block, positioned absolutely. We place using JS. */
.cal-event{
  position: absolute;
  /* left, top, height, width set inline */
}

/* Make our cards fill the block nicely */
.cal-event .vcard{
  height: 100%;
  display: flex; flex-direction: column; justify-content: center;
  padding: 14px;
}

/* Now line */
.cal-now{
  position: absolute;
  left: var(--cal-gutter); right: var(--cal-pad);
  border-top: 2px solid #8c7aff;
  filter: drop-shadow(0 0 6px rgba(140,122,255,.5));
}
.cal-now .tick{
  position: absolute; left: 0; transform: translate(-120%, -50%);
  font-size: 11px; color: #cfe0ff; background: rgba(17,25,40,.7);
  border: 1px solid rgba(108,91,255,.4); border-radius: 999px; padding: 2px 6px;
}

/* Buttons (re-use vbtn palette) */
.cal-toolbar .vbtn{ padding: 8px 12px; border-radius: 12px; }
