/* Micro-Pulse Animation System - GPU-accelerated for production */

/* Core micro-pulse keyframes */
@keyframes microPulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}

/* Enhanced micro-pulse for buttons */
@keyframes microPulseEnhanced {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(107, 123, 255, 0.4);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 0 0 var(--s-1) rgba(107, 123, 255, 0.1);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(107, 123, 255, 0);
  }
}

/* Subtle glow pulse for important actions */
@keyframes glowPulse {
  0%, 100% {
    box-shadow: 0 0 var(--s-1-25) rgba(107, 123, 255, 0.3);
  }
  50% {
    box-shadow: 0 0 var(--s-3-75) rgba(107, 123, 255, 0.6);
  }
}

/* Sync button subtle pulse effect */
.sync-pulse {
  animation: microPulse 0.3s ease-out 1;
  will-change: transform;
}

/* Enhanced sync pulse with glow */
.sync-pulse-glow {
  animation: microPulseEnhanced 0.4s ease-out, glowPulse 2s ease-in-out infinite;
  will-change: transform, box-shadow;
}

/* Generic micro-pulse for any element */
.micro-pulse {
  animation: microPulse 0.3s ease-out;
  will-change: transform;
}

/* Delayed micro-pulse variants */
.micro-pulse-delay-1 {
  animation: microPulse 0.3s ease-out 0.5s;
  will-change: transform;
}

.micro-pulse-delay-2 {
  animation: microPulse 0.3s ease-out 1s;
  will-change: transform;
}

.micro-pulse-delay-3 {
  animation: microPulse 0.3s ease-out 1.5s;
  will-change: transform;
}

/* Button attention pulse - for CTAs */
.btn-attention-pulse {
  animation: microPulseEnhanced 0.6s ease-out infinite alternate;
  will-change: transform, box-shadow;
}

/* Gentle bounce for new content */
@keyframes gentleBounce {
  0% {
    transform: translateY(calc(-1 * var(--bw-2))) scale(0.98);
    opacity: 0.8;
  }
  50% {
    transform: translateY(var(--bw-1)) scale(1.01);
    opacity: 0.9;
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

.gentle-bounce {
  animation: gentleBounce 0.4s ease-out;
  will-change: transform, opacity;
}

/* Notification badge pulse */
.badge-pulse {
  animation: microPulse 0.5s ease-out infinite alternate;
  will-change: transform;
}

/* Success confirmation pulse */
.success-pulse {
  animation: microPulseEnhanced 0.3s ease-out;
  will-change: transform, box-shadow;
}

/* Invite counter animation */
.invite-counter-update {
  animation: microPulseEnhanced 0.5s ease-out;
  will-change: transform, box-shadow;
}

/* Performance optimizations */
.sync-pulse,
.sync-pulse-glow,
.micro-pulse,
.micro-pulse-delay-1,
.micro-pulse-delay-2,
.micro-pulse-delay-3,
.btn-attention-pulse,
.gentle-bounce,
.badge-pulse,
.success-pulse,
.invite-counter-update {
  /* Use transform3d to trigger hardware acceleration */
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  perspective:62.5rem;
}

/* Utility classes for manual triggers */
.pulse-on-hover:hover {
  animation: microPulse 0.2s ease-out;
}

.pulse-on-focus:focus {
  animation: microPulseEnhanced 0.3s ease-out;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .sync-pulse,
  .sync-pulse-glow,
  .micro-pulse,
  .micro-pulse-delay-1,
  .micro-pulse-delay-2,
  .micro-pulse-delay-3,
  .btn-attention-pulse,
  .gentle-bounce,
  .badge-pulse,
  .success-pulse,
  .invite-counter-update,
  .pulse-on-hover:hover,
  .pulse-on-focus:focus {
    animation: none;
  }
}

/* High contrast mode - ensure animations don't interfere with visibility */
@media (prefers-contrast: high) {
  .sync-pulse-glow,
  .btn-attention-pulse {
    animation: microPulse 0.3s ease-out;
  }
}